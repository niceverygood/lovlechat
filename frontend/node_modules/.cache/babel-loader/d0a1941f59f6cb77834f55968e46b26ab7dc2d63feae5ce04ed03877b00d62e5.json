{"ast":null,"code":"var _jsxFileName = \"/Users/seungsoohan/LovleChat/frontend/src/pages/ForYouPage.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport BottomNav from \"../components/BottomNav\";\nimport { useNavigate } from \"react-router-dom\";\nimport ProfileEditModal from \"../components/ProfileEditModal\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DEFAULT_PERSONAS = [{\n  id: \"user_74127\",\n  name: \"user_74127\",\n  avatar: \"/avatars/user.jpg\"\n}\n// 추가 페르소나 예시\n];\n\n// 프로필 이미지 경로 상수로 지정\nconst DEFAULT_PROFILE_IMG = \"/imgdefault.jpg\"; // 실제 파일 경로로 교체 필요\n\nfunction ForYouSkeleton() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      height: \"70vh\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: \"#f3f3f3\",\n        borderRadius: 20,\n        padding: 32,\n        width: 320,\n        maxWidth: \"90vw\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        boxShadow: \"0 2px 16px rgba(0,0,0,0.07)\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 100,\n          height: 100,\n          borderRadius: \"50%\",\n          background: \"#e0e0e0\",\n          marginBottom: 20,\n          animation: \"pulse 1.2s infinite\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 120,\n          height: 24,\n          borderRadius: 8,\n          background: \"#e0e0e0\",\n          marginBottom: 12,\n          animation: \"pulse 1.2s infinite\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 180,\n          height: 18,\n          borderRadius: 8,\n          background: \"#e0e0e0\",\n          marginBottom: 16,\n          animation: \"pulse 1.2s infinite\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: \"100%\",\n          height: 48,\n          borderRadius: 12,\n          background: \"#e0e0e0\",\n          marginTop: 16,\n          animation: \"pulse 1.2s infinite\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `@keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n\n// CharacterDetailModal: 첨부 이미지 스타일 전체화면 상세\n_c = ForYouSkeleton;\nfunction CharacterDetailModal({\n  isOpen,\n  onClose,\n  character\n}) {\n  _s();\n  var _character$selectedTa;\n  const [tab, setTab] = React.useState(0);\n  if (!isOpen || !character) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      width: '100vw',\n      height: '100vh',\n      background: 'rgba(0,0,0,0.72)',\n      zIndex: 3000,\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'flex-start',\n      overflowY: 'auto'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '100%',\n        maxWidth: 430,\n        margin: '0 auto',\n        background: 'var(--color-bg)',\n        minHeight: '100vh',\n        borderRadius: 0,\n        position: 'relative',\n        boxShadow: '0 2px 16px rgba(0,0,0,0.18)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '100%',\n          aspectRatio: '3/4',\n          background: '#222',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          position: 'relative'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: character.profileImg || DEFAULT_PROFILE_IMG,\n          alt: character.name,\n          style: {\n            width: '100%',\n            height: '100%',\n            objectFit: 'contain',\n            objectPosition: 'center',\n            zIndex: 1,\n            background: '#222'\n          },\n          onError: e => {\n            if (e.currentTarget.src.endsWith(DEFAULT_PROFILE_IMG)) return;\n            e.currentTarget.onerror = null;\n            e.currentTarget.src = DEFAULT_PROFILE_IMG;\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          left: 24,\n          top: 24,\n          display: 'flex',\n          alignItems: 'center',\n          gap: 10,\n          zIndex: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            background: 'var(--color-point)',\n            color: '#fff',\n            fontWeight: 700,\n            fontSize: 13,\n            borderRadius: 8,\n            padding: '4px 10px'\n          },\n          children: character.category || '카테고리 없음'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: '#fff',\n            fontWeight: 500,\n            fontSize: 15,\n            opacity: 0.85\n          },\n          children: [\"by. \", character.userId || '-']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '16px 20px 0 20px',\n          display: 'flex',\n          gap: 8,\n          flexWrap: 'wrap'\n        },\n        children: (_character$selectedTa = character.selectedTags) === null || _character$selectedTa === void 0 ? void 0 : _character$selectedTa.map(tag => /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            background: '#ffd6ea',\n            color: '#ff4081',\n            borderRadius: 8,\n            padding: '4px 10px',\n            fontWeight: 600,\n            fontSize: 14\n          },\n          children: [\"#\", tag]\n        }, tag, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          padding: '32px 0 0 0'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: character.profileImg || DEFAULT_PROFILE_IMG,\n          alt: character.name,\n          style: {\n            width: 64,\n            height: 64,\n            borderRadius: '50%',\n            objectFit: 'cover',\n            border: '3px solid #fff',\n            background: '#eee',\n            marginBottom: 8\n          },\n          onError: e => {\n            if (e.currentTarget.src.endsWith(DEFAULT_PROFILE_IMG)) return;\n            e.currentTarget.onerror = null;\n            e.currentTarget.src = DEFAULT_PROFILE_IMG;\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 700,\n            fontSize: 20,\n            color: '#fff',\n            marginBottom: 2\n          },\n          children: character.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 15,\n            color: '#ccc',\n            marginBottom: 10\n          },\n          children: [character.age, \"\\uC0B4 \\xB7 \", character.job]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), character.firstScene && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 15,\n            color: '#bbb',\n            marginBottom: 4,\n            textAlign: 'center',\n            maxWidth: 320\n          },\n          children: character.firstScene\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this), character.firstMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 17,\n            color: '#fff',\n            fontWeight: 500,\n            background: 'rgba(255,255,255,0.08)',\n            borderRadius: 10,\n            padding: '8px 16px',\n            marginBottom: 8,\n            textAlign: 'center',\n            maxWidth: 320\n          },\n          children: character.firstMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          margin: '24px 0 0 0',\n          borderBottom: '1.5px solid #f5b3d7'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => setTab(0),\n          style: {\n            flex: 1,\n            textAlign: 'center',\n            padding: 12,\n            fontWeight: 700,\n            color: tab === 0 ? '#ff4081' : '#bbb',\n            borderBottom: tab === 0 ? '2.5px solid #ff4081' : 'none',\n            cursor: 'pointer'\n          },\n          children: \"\\uC11C\\uC0AC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => setTab(1),\n          style: {\n            flex: 1,\n            textAlign: 'center',\n            padding: 12,\n            fontWeight: 700,\n            color: tab === 1 ? '#ff4081' : '#bbb',\n            borderBottom: tab === 1 ? '2.5px solid #ff4081' : 'none',\n            cursor: 'pointer'\n          },\n          children: \"\\uCCAB \\uC7A5\\uBA74\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => setTab(2),\n          style: {\n            flex: 1,\n            textAlign: 'center',\n            padding: 12,\n            fontWeight: 700,\n            color: tab === 2 ? '#ff4081' : '#bbb',\n            borderBottom: tab === 2 ? '2.5px solid #ff4081' : 'none',\n            cursor: 'pointer'\n          },\n          children: \"\\uCEE4\\uBBA4\\uB2C8\\uD2F0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '20px'\n        },\n        children: [tab === 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 700,\n              fontSize: 16,\n              marginBottom: 6\n            },\n            children: [character.name, \"\\uC758 \\uC11C\\uC0AC\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: 'var(--color-card)',\n              borderRadius: 12,\n              padding: 16,\n              fontWeight: 500,\n              color: 'var(--color-text)',\n              fontSize: 16\n            },\n            children: character.firstScene || '등록된 서사가 없습니다.'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), tab === 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 700,\n              fontSize: 16,\n              marginBottom: 6\n            },\n            children: \"\\uCCAB \\uC0C1\\uD669\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: 'var(--color-card)',\n              borderRadius: 12,\n              padding: 16,\n              fontWeight: 500,\n              color: 'var(--color-text)',\n              fontSize: 16,\n              marginBottom: 16\n            },\n            children: character.firstScene || '등록된 첫 상황이 없습니다.'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 700,\n              fontSize: 16,\n              marginBottom: 6\n            },\n            children: \"\\uCC44\\uD305 \\uCCAB \\uB9C8\\uB514\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: 'var(--color-card)',\n              borderRadius: 12,\n              padding: 16,\n              fontWeight: 500,\n              color: 'var(--color-text)',\n              fontSize: 16\n            },\n            children: character.firstMessage || '등록된 첫 마디가 없습니다.'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), tab === 2 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: 'var(--color-card)',\n              borderRadius: 12,\n              padding: 32,\n              fontWeight: 700,\n              color: '#ff4081',\n              fontSize: 18,\n              textAlign: 'center'\n            },\n            children: \"\\uC900\\uBE44\\uC911\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this)\n        }, void 0, false)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          position: 'fixed',\n          left: 0,\n          right: 0,\n          bottom: 0,\n          height: 56,\n          background: '#ff4081',\n          color: '#fff',\n          fontWeight: 700,\n          fontSize: 20,\n          border: 'none',\n          borderRadius: 0,\n          cursor: 'pointer',\n          zIndex: 10\n        },\n        onClick: () => window.location.href = `/chat/${character.id}`,\n        children: \"\\uCC44\\uD305\\uD558\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n_s(CharacterDetailModal, \"axDiLEfgNOglNP+1xq9HAaUfJ9o=\");\n_c2 = CharacterDetailModal;\nexport default function ForYouPage() {\n  _s2();\n  var _personas$;\n  const [characters, setCharacters] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [index, setIndex] = useState(0);\n  const [showPersonaModal, setShowPersonaModal] = useState(false);\n  const [showPersonaManager, setShowPersonaManager] = useState(false);\n  const [showPersonaCreator, setShowPersonaCreator] = useState(false);\n  const [personas, setPersonas] = useState(DEFAULT_PERSONAS);\n  const [selectedPersona, setSelectedPersona] = useState(((_personas$ = personas[0]) === null || _personas$ === void 0 ? void 0 : _personas$.id) || \"\");\n  const [addingPersona, setAddingPersona] = useState(false);\n  const [newPersonaName, setNewPersonaName] = useState(\"\");\n  const [newPersonaAvatar, setNewPersonaAvatar] = useState(\"\");\n  const [creatorProfileImg, setCreatorProfileImg] = useState(\"\");\n  const [creatorGender, setCreatorGender] = useState(\"밝히지 않음\");\n  const [creatorName, setCreatorName] = useState(\"\");\n  const [creatorAge, setCreatorAge] = useState(\"\");\n  const [creatorJob, setCreatorJob] = useState(\"\");\n  const [creatorInfo, setCreatorInfo] = useState(\"\");\n  const [creatorHabit, setCreatorHabit] = useState(\"\");\n  const [showProfileModal, setShowProfileModal] = useState(false);\n  const [selectedProfile, setSelectedProfile] = useState(null);\n  const [showProfileEditModal, setShowProfileEditModal] = useState(false);\n  const [editProfile, setEditProfile] = useState(null);\n  const [showProfileCreateModal, setShowProfileCreateModal] = useState(false);\n  const navigate = useNavigate();\n\n  // 프로필 사진 업로드\n  const fileInputRef = React.useRef(null);\n  const handleProfileImgClick = () => {\n    var _fileInputRef$current;\n    return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n  };\n  const handleProfileImgChange = e => {\n    var _e$target$files;\n    const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = ev => {\n        var _ev$target;\n        setCreatorProfileImg((_ev$target = ev.target) === null || _ev$target === void 0 ? void 0 : _ev$target.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  // userId는 임시로 하드코딩\n  const userId = \"user_74127\";\n\n  // 멀티프로필 목록 불러오기 (GET)\n  useEffect(() => {\n    fetch(`/api/persona?userId=${userId}`).then(res => res.json()).then(data => {\n      if (data.ok) setPersonas(data.personas);\n    });\n  }, [showPersonaManager, showPersonaCreator]);\n  useEffect(() => {\n    fetch(\"/api/character\").then(res => res.json()).then(data => {\n      if (data.ok) setCharacters(data.characters);\n      setLoading(false);\n    });\n  }, []);\n  useEffect(() => {\n    if (showPersonaCreator) {\n      setCreatorProfileImg(\"\");\n      setCreatorGender(\"밝히지 않음\");\n      setCreatorName(\"\");\n      setCreatorAge(\"\");\n      setCreatorJob(\"\");\n      setCreatorInfo(\"\");\n      setCreatorHabit(\"\");\n    }\n  }, [showPersonaCreator]);\n  const handlePrev = () => {\n    setIndex(prev => prev === 0 ? characters.length - 1 : prev - 1);\n  };\n  const handleNext = () => {\n    setIndex(prev => prev === characters.length - 1 ? 0 : prev + 1);\n  };\n\n  // 터치 스와이프 지원\n  let touchStartX = 0;\n  let touchEndX = 0;\n  const handleTouchStart = e => {\n    touchStartX = e.changedTouches[0].screenX;\n  };\n  const handleTouchEnd = e => {\n    touchEndX = e.changedTouches[0].screenX;\n    if (touchEndX - touchStartX > 50) handlePrev();else if (touchStartX - touchEndX > 50) handleNext();\n  };\n\n  // 채팅하기 버튼 클릭 시\n  const handleChatClick = () => {\n    setShowPersonaModal(true);\n  };\n\n  // 페르소나 추가\n  const handleAddPersona = () => {\n    if (!newPersonaName) return;\n    setPersonas(prev => [...prev, {\n      id: newPersonaName,\n      name: newPersonaName,\n      avatar: newPersonaAvatar || \"/avatars/user.jpg\"\n    }]);\n    setSelectedPersona(newPersonaName);\n    setNewPersonaName(\"\");\n    setNewPersonaAvatar(\"\");\n    setAddingPersona(false);\n  };\n\n  // 멀티프로필 생성 완료 (POST)\n  const handlePersonaCreate = async () => {\n    if (!creatorName) return alert(\"이름을 입력해주세요\");\n    const payload = {\n      userId,\n      name: creatorName,\n      avatar: creatorProfileImg || \"/avatars/user.jpg\",\n      gender: creatorGender,\n      age: creatorAge,\n      job: creatorJob,\n      info: creatorInfo,\n      habit: creatorHabit\n    };\n    const res = await fetch(\"/api/persona\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(payload)\n    });\n    const data = await res.json();\n    if (data.ok) {\n      setShowPersonaCreator(false);\n      setShowPersonaManager(false);\n      // 폼 초기화는 useEffect에서 처리\n    } else {\n      alert(\"프로필 저장 실패: \" + data.error);\n    }\n  };\n\n  // 멀티프로필 삭제 (DELETE)\n  const handleDeletePersona = async id => {\n    if (id === userId) return; // 기본 프로필은 삭제 불가\n    if (window.confirm(\"정말로 삭제하시겠습니까?\")) {\n      await fetch(`/api/persona/${id}`, {\n        method: \"DELETE\"\n      });\n      setPersonas(prev => prev.filter(p => p.id !== id));\n      if (selectedPersona === id && personas.length > 1) {\n        setSelectedPersona(personas[0].id);\n      }\n    }\n  };\n\n  // 채팅 시작\n  const handleStartChat = () => {\n    setShowPersonaModal(false);\n    // 실제로는 navigate(`/chat/${characters[index].id}?persona=${selectedPersona}`)\n    window.location.href = `/chat/${characters[index].id}?persona=${selectedPersona}`;\n  };\n\n  // 캐릭터 카드 클릭 시 상세로 이동\n  const handleCardClick = id => {\n    navigate(`/character/${id}`);\n  };\n\n  // 멀티프로필 관리 모달 내부\n  const PersonaManager = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: \"fixed\",\n      left: 0,\n      top: 0,\n      width: \"100vw\",\n      height: \"100vh\",\n      background: \"var(--color-card)\",\n      zIndex: 2000,\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        alignItems: \"center\",\n        padding: \"18px 20px 10px 20px\",\n        borderBottom: \"1px solid #eee\",\n        justifyContent: 'space-between'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowPersonaManager(false),\n          style: {\n            background: \"none\",\n            border: \"none\",\n            fontSize: 26,\n            marginRight: 8,\n            cursor: \"pointer\",\n            color: \"#fff\"\n          },\n          children: \"\\u2190\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontWeight: 700,\n            fontSize: 22\n          },\n          children: \"\\uBA40\\uD2F0\\uD504\\uB85C\\uD544\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowProfileCreateModal(true),\n        disabled: personas.length >= 10,\n        style: {\n          display: \"flex\",\n          alignItems: \"center\",\n          background: \"none\",\n          border: \"none\",\n          color: personas.length >= 10 ? \"#888\" : \"#ff4081\",\n          fontWeight: 600,\n          fontSize: 18,\n          cursor: personas.length >= 10 ? \"not-allowed\" : \"pointer\"\n        },\n        title: personas.length >= 10 ? '최대 10개까지 생성할 수 있습니다.' : '',\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: 26,\n            marginRight: 4\n          },\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this), \" \\uB9CC\\uB4E4\\uAE30 (\", personas.length, \"/10)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: 24\n      },\n      children: [personas.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"#bbb\",\n          fontSize: 16,\n          marginTop: 40\n        },\n        children: \"\\uC544\\uC9C1 \\uB4F1\\uB85D\\uB41C \\uD504\\uB85C\\uD544\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 11\n      }, this), [...personas].sort((a, b) => a.id === \"user_74127\" ? -1 : b.id === \"user_74127\" ? 1 : 0).map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          alignItems: \"center\",\n          background: \"var(--color-card-alt)\",\n          borderRadius: 12,\n          padding: 14,\n          marginBottom: 14\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: p.avatar || \"/imgdefault.jpg\",\n          alt: p.name,\n          style: {\n            width: 44,\n            height: 44,\n            borderRadius: \"50%\",\n            marginRight: 14,\n            objectFit: \"cover\"\n          },\n          onError: e => {\n            e.currentTarget.onerror = null;\n            e.currentTarget.src = \"/imgdefault.jpg\";\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontWeight: 600,\n            fontSize: 17\n          },\n          children: p.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 13\n        }, this), p.id !== \"user_74127\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleProfileEdit(p),\n            style: {\n              marginLeft: \"auto\",\n              background: \"none\",\n              border: \"none\",\n              color: \"#ff4081\",\n              fontSize: 18,\n              cursor: \"pointer\"\n            },\n            children: \"\\uC218\\uC815\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDeletePersona(p.id),\n            style: {\n              background: \"none\",\n              border: \"none\",\n              color: \"#ff4081\",\n              fontSize: 22,\n              cursor: \"pointer\"\n            },\n            children: \"\\u2715\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            marginLeft: \"auto\",\n            color: \"#bbb\",\n            fontSize: 15\n          },\n          children: \"\\uAE30\\uBCF8 \\uD504\\uB85C\\uD544\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 15\n        }, this)]\n      }, p.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 322,\n    columnNumber: 5\n  }, this);\n\n  // 멀티프로필 생성 폼 전체화면\n  const PersonaCreator = ({\n    creatorProfileImg,\n    handleProfileImgClick,\n    fileInputRef,\n    handleProfileImgChange,\n    creatorGender,\n    setCreatorGender,\n    creatorName,\n    setCreatorName,\n    creatorAge,\n    setCreatorAge,\n    creatorJob,\n    setCreatorJob,\n    creatorInfo,\n    setCreatorInfo,\n    creatorHabit,\n    setCreatorHabit,\n    handlePersonaCreate,\n    setShowPersonaCreator\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: \"fixed\",\n      left: 0,\n      top: 0,\n      width: \"100vw\",\n      height: \"100vh\",\n      background: \"var(--color-card)\",\n      zIndex: 3000,\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        padding: \"18px 20px 10px 20px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowPersonaCreator(false),\n        style: {\n          background: \"none\",\n          border: \"none\",\n          fontSize: 26,\n          cursor: \"pointer\",\n          color: \"#fff\"\n        },\n        children: \"\\u2190\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handlePersonaCreate,\n        style: {\n          background: \"none\",\n          border: \"none\",\n          color: \"#ff4081\",\n          fontWeight: 700,\n          fontSize: 20,\n          cursor: \"pointer\"\n        },\n        children: \"\\uC644\\uB8CC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        marginTop: 16\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"relative\",\n          width: 110,\n          height: 110,\n          marginBottom: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: creatorProfileImg || \"/imgdefault.jpg\",\n          alt: \"\\uD504\\uB85C\\uD544\",\n          style: {\n            width: 110,\n            height: 110,\n            borderRadius: \"50%\",\n            objectFit: \"cover\",\n            background: \"#ffe5e5\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleProfileImgClick,\n          style: {\n            position: \"absolute\",\n            right: 0,\n            bottom: 0,\n            background: \"#fff\",\n            border: \"none\",\n            borderRadius: \"50%\",\n            width: 36,\n            height: 36,\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            fontSize: 20,\n            boxShadow: \"0 2px 8px rgba(0,0,0,0.08)\",\n            cursor: \"pointer\"\n          },\n          \"aria-label\": \"\\uD504\\uB85C\\uD544 \\uC0AC\\uC9C4 \\uBCC0\\uACBD\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            role: \"img\",\n            \"aria-label\": \"edit\",\n            children: \"\\u270F\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: fileInputRef,\n          type: \"file\",\n          accept: \"image/*\",\n          style: {\n            display: \"none\"\n          },\n          onChange: handleProfileImgChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: \"0 20px\",\n        marginTop: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: 700,\n          fontSize: 16,\n          marginBottom: 8\n        },\n        children: \"\\uC131\\uBCC4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          gap: 18,\n          marginBottom: 18\n        },\n        children: ['남성', '여성', '밝히지 않음'].map(g => /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: \"flex\",\n            alignItems: \"center\",\n            fontWeight: 500,\n            fontSize: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            checked: creatorGender === g,\n            onChange: () => setCreatorGender(g),\n            style: {\n              marginRight: 6\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 15\n          }, this), \" \", g]\n        }, g, true, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: 700,\n          fontSize: 16,\n          marginBottom: 4\n        },\n        children: [\"\\uC774\\uB984 \", /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: '#888',\n            fontWeight: 400,\n            fontSize: 14\n          },\n          children: \"(\\uD544\\uC218)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 76\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"\\uC774\\uB984\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n        value: creatorName,\n        onChange: e => {\n          const v = e.target.value;\n          if (v.length <= 15) setCreatorName(v);else setCreatorName(v.slice(0, 15));\n        },\n        style: {\n          width: \"100%\",\n          borderRadius: 12,\n          border: \"1px solid #eee\",\n          padding: 14,\n          fontSize: 16,\n          marginBottom: 2,\n          background: '#fafafa'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#bbb',\n          fontSize: 13,\n          textAlign: 'right',\n          marginBottom: 12\n        },\n        children: [creatorName.length, \"/15\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: 700,\n          fontSize: 16,\n          marginBottom: 4\n        },\n        children: \"\\uB098\\uC774\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"\\uB098\\uC774\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n        value: creatorAge,\n        onChange: e => {\n          const v = e.target.value;\n          if (v.length <= 15) setCreatorAge(v);else setCreatorAge(v.slice(0, 15));\n        },\n        style: {\n          width: \"100%\",\n          borderRadius: 12,\n          border: \"1px solid #eee\",\n          padding: 14,\n          fontSize: 16,\n          marginBottom: 2,\n          background: '#fafafa'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#bbb',\n          fontSize: 13,\n          textAlign: 'right',\n          marginBottom: 12\n        },\n        children: [creatorAge.length, \"/15\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: 700,\n          fontSize: 16,\n          marginBottom: 4\n        },\n        children: \"\\uC9C1\\uC5C5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"\\uC9C1\\uC5C5\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n        value: creatorJob,\n        onChange: e => {\n          const v = e.target.value;\n          if (v.length <= 15) setCreatorJob(v);else setCreatorJob(v.slice(0, 15));\n        },\n        style: {\n          width: \"100%\",\n          borderRadius: 12,\n          border: \"1px solid #eee\",\n          padding: 14,\n          fontSize: 16,\n          marginBottom: 2,\n          background: '#fafafa'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#bbb',\n          fontSize: 13,\n          textAlign: 'right',\n          marginBottom: 12\n        },\n        children: [creatorJob.length, \"/15\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: 700,\n          fontSize: 16,\n          marginBottom: 4\n        },\n        children: \"\\uAE30\\uBCF8 \\uC815\\uBCF4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"\\uC678\\uBAA8, \\uC131\\uACA9 \\uB4F1 \\uAE30\\uBCF8 \\uC815\\uBCF4\\uB97C \\uC54C\\uB824\\uC8FC\\uC138\\uC694\",\n        value: creatorInfo,\n        onChange: e => {\n          const v = e.target.value;\n          if (v.length <= 500) setCreatorInfo(v);else setCreatorInfo(v.slice(0, 500));\n        },\n        style: {\n          width: \"100%\",\n          borderRadius: 12,\n          border: \"1px solid #eee\",\n          padding: 14,\n          fontSize: 16,\n          marginBottom: 2,\n          background: '#fafafa',\n          resize: 'none'\n        },\n        rows: 3\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#bbb',\n          fontSize: 13,\n          textAlign: 'right',\n          marginBottom: 12\n        },\n        children: [creatorInfo.length, \"/500\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 481,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: 700,\n          fontSize: 16,\n          marginBottom: 4\n        },\n        children: \"\\uC2B5\\uAD00\\uC801\\uC778 \\uB9D0\\uACFC \\uD589\\uB3D9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"\\uC608\\uC2DC\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n        value: creatorHabit,\n        onChange: e => {\n          const v = e.target.value;\n          if (v.length <= 500) setCreatorHabit(v);else setCreatorHabit(v.slice(0, 500));\n        },\n        style: {\n          width: \"100%\",\n          borderRadius: 12,\n          border: \"1px solid #eee\",\n          padding: 14,\n          fontSize: 16,\n          marginBottom: 2,\n          background: '#fafafa',\n          resize: 'none'\n        },\n        rows: 3\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#bbb',\n          fontSize: 13,\n          textAlign: 'right',\n          marginBottom: 12\n        },\n        children: [creatorHabit.length, \"/500\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 387,\n    columnNumber: 5\n  }, this);\n  const handleProfileEdit = profile => {\n    console.log('수정 클릭', profile);\n    setEditProfile(profile);\n    setShowProfileEditModal(true);\n  };\n  const handleProfileSave = async updatedProfile => {\n    try {\n      const response = await fetch(`/api/persona/${updatedProfile.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: updatedProfile.name,\n          gender: updatedProfile.gender,\n          age: updatedProfile.age,\n          job: updatedProfile.job,\n          info: updatedProfile.info,\n          habit: updatedProfile.habit,\n          avatar: updatedProfile.avatar || '/imgdefault.jpg'\n        })\n      });\n      if (response.ok) {\n        setPersonas(prev => prev.map(p => p.id === updatedProfile.id ? updatedProfile : p));\n        setShowProfileEditModal(false);\n        setEditProfile(null);\n        alert('프로필이 성공적으로 수정되었습니다.');\n      } else {\n        throw new Error('프로필 수정에 실패했습니다.');\n      }\n    } catch (error) {\n      alert('프로필 수정 중 오류가 발생했습니다.');\n    }\n  };\n  const handleProfileCreate = async newProfile => {\n    try {\n      const response = await fetch(`/api/persona`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          userId,\n          name: newProfile.name,\n          gender: newProfile.gender,\n          age: newProfile.age,\n          job: newProfile.job,\n          info: newProfile.info,\n          habit: newProfile.habit,\n          avatar: newProfile.avatar\n        })\n      });\n      if (response.ok) {\n        setShowProfileCreateModal(false);\n        setShowPersonaManager(false);\n        // 목록 갱신\n        fetch(`/api/persona?userId=${userId}`).then(res => res.json()).then(data => {\n          if (data.ok) setPersonas(data.personas);\n        });\n        alert('프로필이 성공적으로 생성되었습니다.');\n      } else {\n        throw new Error('프로필 생성에 실패했습니다.');\n      }\n    } catch (error) {\n      alert('프로필 생성 중 오류가 발생했습니다.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      background: \"var(--color-bg)\",\n      minHeight: \"100vh\",\n      paddingBottom: 80\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: \"24px 20px 0 20px\",\n        fontWeight: 700,\n        fontSize: 24,\n        textAlign: \"center\"\n      },\n      children: \"FOR YOU \\u2665\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 568,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(ForYouSkeleton, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 570,\n      columnNumber: 9\n    }, this) : characters.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: 20,\n        color: \"#888\"\n      },\n      children: \"\\uC800\\uC7A5\\uB41C \\uCE90\\uB9AD\\uD130\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 572,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"70vh\",\n        position: \"relative\"\n      },\n      onTouchStart: handleTouchStart,\n      onTouchEnd: handleTouchEnd,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handlePrev,\n        style: {\n          position: \"absolute\",\n          left: 10,\n          top: \"50%\",\n          transform: \"translateY(-50%)\",\n          fontSize: 32,\n          background: \"none\",\n          border: \"none\",\n          cursor: \"pointer\",\n          color: \"#fff\"\n        },\n        \"aria-label\": \"\\uC774\\uC804 \\uCE90\\uB9AD\\uD130\",\n        children: \"<\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"relative\",\n          width: 340,\n          maxWidth: \"95vw\",\n          height: 480,\n          borderRadius: 28,\n          overflow: \"hidden\",\n          boxShadow: \"0 2px 16px rgba(0,0,0,0.13)\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"flex-end\",\n          background: \"#222\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            inset: 0,\n            background: `url(${characters[index].backgroundImg || characters[index].profileImg}) center/cover no-repeat`,\n            filter: \"blur(18px) brightness(0.7)\",\n            zIndex: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            inset: 0,\n            background: \"rgba(0,0,0,0.45)\",\n            zIndex: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 604,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            top: 32,\n            left: 0,\n            width: \"100%\",\n            zIndex: 3,\n            display: \"flex\",\n            alignItems: \"center\",\n            padding: \"0 28px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: characters[index].profileImg || DEFAULT_PROFILE_IMG,\n            alt: characters[index].name,\n            style: {\n              width: 64,\n              height: 64,\n              borderRadius: \"50%\",\n              objectFit: \"cover\",\n              border: \"3px solid #fff\",\n              background: \"#eee\",\n              cursor: \"pointer\"\n            },\n            onError: e => {\n              if (e.currentTarget.src.endsWith(DEFAULT_PROFILE_IMG)) return;\n              e.currentTarget.onerror = null;\n              e.currentTarget.src = DEFAULT_PROFILE_IMG;\n            },\n            onClick: () => {\n              var _characters$index$id$, _characters$index$id, _characters$index$age;\n              setSelectedProfile({\n                id: (_characters$index$id$ = (_characters$index$id = characters[index].id) === null || _characters$index$id === void 0 ? void 0 : _characters$index$id.toString()) !== null && _characters$index$id$ !== void 0 ? _characters$index$id$ : \"\",\n                name: characters[index].name,\n                avatar: characters[index].profileImg,\n                age: (_characters$index$age = characters[index].age) === null || _characters$index$age === void 0 ? void 0 : _characters$index$age.toString(),\n                job: characters[index].job,\n                info: characters[index].oneLiner\n                // gender, habit 등 필요시 추가\n              });\n              setShowProfileModal(true);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginLeft: 18,\n              display: \"flex\",\n              flexDirection: \"column\",\n              justifyContent: \"center\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 700,\n                fontSize: 22,\n                color: \"#fff\",\n                marginBottom: 2\n              },\n              children: characters[index].name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 630,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: \"#e0e0e0\",\n                fontSize: 15,\n                fontWeight: 400\n              },\n              children: [characters[index].age ? `${characters[index].age}살` : \"나이 비공개\", \" \\xB7 \", characters[index].job || \"직업 비공개\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 631,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 629,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 606,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"relative\",\n            zIndex: 4,\n            padding: \"0 28px 38px 28px\",\n            width: \"100%\",\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center'\n          },\n          children: [characters[index].firstScene && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: \"#fff\",\n              fontSize: 17,\n              fontWeight: 500,\n              marginBottom: 18,\n              textShadow: \"0 2px 8px rgba(0,0,0,0.22)\",\n              lineHeight: 1.6,\n              textAlign: 'center',\n              maxWidth: 260\n            },\n            children: characters[index].firstScene\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 638,\n            columnNumber: 17\n          }, this), characters[index].firstMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: \"rgba(30,30,30,0.82)\",\n              color: \"#fff\",\n              fontSize: 16,\n              borderRadius: 14,\n              padding: \"18px 18px 18px 22px\",\n              fontWeight: 400,\n              marginBottom: 10,\n              boxShadow: \"0 2px 8px rgba(0,0,0,0.10)\",\n              border: \"1.5px solid #fff2\",\n              textAlign: 'center',\n              maxWidth: 260\n            },\n            children: characters[index].firstMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 644,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 635,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            position: \"absolute\",\n            bottom: 18,\n            left: 28,\n            right: 28,\n            height: 48,\n            background: \"#ff4081\",\n            color: \"#fff\",\n            fontWeight: 700,\n            fontSize: 18,\n            border: \"none\",\n            borderRadius: 12,\n            cursor: \"pointer\",\n            zIndex: 5,\n            boxShadow: \"0 2px 8px rgba(0,0,0,0.13)\"\n          },\n          onClick: handleChatClick,\n          children: \"\\uCC44\\uD305\\uD558\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 650,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 580,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleNext,\n        style: {\n          position: \"absolute\",\n          right: 10,\n          top: \"50%\",\n          transform: \"translateY(-50%)\",\n          fontSize: 32,\n          background: \"none\",\n          border: \"none\",\n          cursor: \"pointer\",\n          color: \"#fff\"\n        },\n        \"aria-label\": \"\\uB2E4\\uC74C \\uCE90\\uB9AD\\uD130\",\n        children: \">\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 670,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 9\n    }, this), showPersonaModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"fixed\",\n        left: 0,\n        top: 0,\n        width: \"100vw\",\n        height: \"100vh\",\n        background: \"var(--color-bg)\",\n        zIndex: 1500,\n        display: \"flex\",\n        flexDirection: \"column\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          alignItems: \"center\",\n          padding: \"18px 20px 10px 20px\",\n          borderBottom: \"1px solid var(--color-border)\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowPersonaModal(false),\n          style: {\n            background: \"none\",\n            border: \"none\",\n            fontSize: 26,\n            marginRight: 8,\n            cursor: \"pointer\",\n            color: \"#fff\"\n          },\n          children: \"\\u2190\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 679,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontWeight: 700,\n            fontSize: 22,\n            color: \"var(--color-text)\"\n          },\n          children: \"\\uCC44\\uD305 \\uD504\\uB85C\\uD544\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 680,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 678,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: 24,\n          flex: 1,\n          overflowY: \"auto\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 700,\n            fontSize: 16,\n            marginBottom: 8,\n            color: \"var(--color-subtext)\"\n          },\n          children: \"\\uBA40\\uD2F0\\uD504\\uB85C\\uD544\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 683,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"var(--color-subtext)\",\n            fontSize: 14,\n            marginBottom: 16\n          },\n          children: \"\\uC9C1\\uC5C5\\uACFC \\uAE30\\uBCF8 \\uC815\\uBCF4\\uB97C \\uCD94\\uAC00 \\uC9C0\\uC6D0\\uD569\\uB2C8\\uB2E4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 684,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 700,\n            fontSize: 16,\n            marginBottom: 8,\n            color: \"var(--color-subtext)\"\n          },\n          children: \"\\uC720\\uC800 \\uD504\\uB85C\\uD544\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 685,\n          columnNumber: 13\n        }, this), personas.map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            alignItems: \"center\",\n            background: selectedPersona === p.id ? \"#2a1a22\" : \"var(--color-card)\",\n            borderRadius: 12,\n            padding: 10,\n            marginBottom: 10,\n            cursor: \"pointer\"\n          },\n          onClick: () => setSelectedPersona(p.id),\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: p.avatar || \"/imgdefault.jpg\",\n            alt: p.name,\n            style: {\n              width: 40,\n              height: 40,\n              borderRadius: \"50%\",\n              marginRight: 12,\n              objectFit: \"cover\"\n            },\n            onError: e => {\n              e.currentTarget.onerror = null;\n              e.currentTarget.src = \"/imgdefault.jpg\";\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 688,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontWeight: 600,\n              fontSize: 16,\n              color: \"var(--color-text)\"\n            },\n            children: p.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 694,\n            columnNumber: 17\n          }, this), selectedPersona === p.id && /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              marginLeft: \"auto\",\n              color: \"#ff4081\",\n              fontSize: 22\n            },\n            children: \"\\u2714\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 695,\n            columnNumber: 46\n          }, this)]\n        }, p.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 687,\n          columnNumber: 15\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowPersonaManager(true),\n          style: {\n            width: \"100%\",\n            background: \"#18141a\",\n            color: \"#ff4081\",\n            border: \"1px solid #ff4081\",\n            borderRadius: 8,\n            padding: 10,\n            fontWeight: 700,\n            fontSize: 16,\n            marginTop: 8\n          },\n          children: \"+ \\uD504\\uB85C\\uD544 \\uCD94\\uAC00/\\uAD00\\uB9AC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 698,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleStartChat,\n          style: {\n            width: \"100%\",\n            background: \"#ff4081\",\n            color: \"#fff\",\n            border: \"none\",\n            borderRadius: 12,\n            padding: 14,\n            fontWeight: 700,\n            fontSize: 18,\n            marginTop: 18\n          },\n          children: \"\\uCC44\\uD305\\uD558\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 699,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 682,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 675,\n      columnNumber: 9\n    }, this), showPersonaManager && /*#__PURE__*/_jsxDEV(PersonaManager, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 704,\n      columnNumber: 30\n    }, this), showPersonaCreator && /*#__PURE__*/_jsxDEV(PersonaCreator, {\n      creatorProfileImg: creatorProfileImg,\n      handleProfileImgClick: handleProfileImgClick,\n      fileInputRef: fileInputRef,\n      handleProfileImgChange: handleProfileImgChange,\n      creatorGender: creatorGender,\n      setCreatorGender: setCreatorGender,\n      creatorName: creatorName,\n      setCreatorName: setCreatorName,\n      creatorAge: creatorAge,\n      setCreatorAge: setCreatorAge,\n      creatorJob: creatorJob,\n      setCreatorJob: setCreatorJob,\n      creatorInfo: creatorInfo,\n      setCreatorInfo: setCreatorInfo,\n      creatorHabit: creatorHabit,\n      setCreatorHabit: setCreatorHabit,\n      handlePersonaCreate: handlePersonaCreate,\n      setShowPersonaCreator: setShowPersonaCreator\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 706,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(CharacterDetailModal, {\n      isOpen: showProfileModal,\n      onClose: () => setShowProfileModal(false),\n      character: selectedProfile\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 728,\n      columnNumber: 7\n    }, this), console.log('ProfileEditModal 조건', showProfileEditModal, editProfile), showProfileEditModal && editProfile && /*#__PURE__*/_jsxDEV(ProfileEditModal, {\n      isOpen: showProfileEditModal,\n      onClose: () => {\n        setShowProfileEditModal(false);\n        setEditProfile(null);\n      },\n      profileData: {\n        id: editProfile.id,\n        name: editProfile.name,\n        gender: editProfile.gender || '',\n        age: editProfile.age ? parseInt(editProfile.age) : 0,\n        job: editProfile.job || '',\n        info: editProfile.info || '',\n        habit: editProfile.habit || '',\n        avatar: editProfile.avatar || '/imgdefault.jpg'\n      },\n      onSave: handleProfileSave\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 736,\n      columnNumber: 9\n    }, this), showProfileCreateModal && /*#__PURE__*/_jsxDEV(ProfileEditModal, {\n      isOpen: showProfileCreateModal,\n      onClose: () => setShowProfileCreateModal(false),\n      profileData: {\n        id: '',\n        name: '',\n        gender: '',\n        age: 0,\n        job: '',\n        info: '',\n        habit: '',\n        avatar: '/imgdefault.jpg'\n      },\n      onSave: handleProfileCreate,\n      mode: \"create\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 754,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(BottomNav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 771,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 567,\n    columnNumber: 5\n  }, this);\n}\n_s2(ForYouPage, \"NwYC+MSsKcfkOlGAdbNcUuQskHY=\", false, function () {\n  return [useNavigate];\n});\n_c3 = ForYouPage;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"ForYouSkeleton\");\n$RefreshReg$(_c2, \"CharacterDetailModal\");\n$RefreshReg$(_c3, \"ForYouPage\");","map":{"version":3,"names":["React","useEffect","useState","BottomNav","useNavigate","ProfileEditModal","jsxDEV","_jsxDEV","Fragment","_Fragment","DEFAULT_PERSONAS","id","name","avatar","DEFAULT_PROFILE_IMG","ForYouSkeleton","style","display","justifyContent","alignItems","height","children","background","borderRadius","padding","width","maxWidth","flexDirection","boxShadow","marginBottom","animation","fileName","_jsxFileName","lineNumber","columnNumber","marginTop","_c","CharacterDetailModal","isOpen","onClose","character","_s","_character$selectedTa","tab","setTab","position","top","left","zIndex","overflowY","margin","minHeight","aspectRatio","src","profileImg","alt","objectFit","objectPosition","onError","e","currentTarget","endsWith","onerror","gap","color","fontWeight","fontSize","category","opacity","userId","flexWrap","selectedTags","map","tag","border","age","job","firstScene","textAlign","firstMessage","borderBottom","onClick","flex","cursor","right","bottom","window","location","href","_c2","ForYouPage","_s2","_personas$","characters","setCharacters","loading","setLoading","index","setIndex","showPersonaModal","setShowPersonaModal","showPersonaManager","setShowPersonaManager","showPersonaCreator","setShowPersonaCreator","personas","setPersonas","selectedPersona","setSelectedPersona","addingPersona","setAddingPersona","newPersonaName","setNewPersonaName","newPersonaAvatar","setNewPersonaAvatar","creatorProfileImg","setCreatorProfileImg","creatorGender","setCreatorGender","creatorName","setCreatorName","creatorAge","setCreatorAge","creatorJob","setCreatorJob","creatorInfo","setCreatorInfo","creatorHabit","setCreatorHabit","showProfileModal","setShowProfileModal","selectedProfile","setSelectedProfile","showProfileEditModal","setShowProfileEditModal","editProfile","setEditProfile","showProfileCreateModal","setShowProfileCreateModal","navigate","fileInputRef","useRef","handleProfileImgClick","_fileInputRef$current","current","click","handleProfileImgChange","_e$target$files","file","target","files","reader","FileReader","onload","ev","_ev$target","result","readAsDataURL","fetch","then","res","json","data","ok","handlePrev","prev","length","handleNext","touchStartX","touchEndX","handleTouchStart","changedTouches","screenX","handleTouchEnd","handleChatClick","handleAddPersona","handlePersonaCreate","alert","payload","gender","info","habit","method","headers","body","JSON","stringify","error","handleDeletePersona","confirm","filter","p","handleStartChat","handleCardClick","PersonaManager","marginRight","disabled","title","sort","a","b","handleProfileEdit","marginLeft","PersonaCreator","type","role","ref","accept","onChange","g","checked","placeholder","value","v","slice","resize","rows","profile","console","log","handleProfileSave","updatedProfile","response","Error","handleProfileCreate","newProfile","paddingBottom","onTouchStart","onTouchEnd","transform","overflow","inset","backgroundImg","_characters$index$id$","_characters$index$id","_characters$index$age","toString","oneLiner","textShadow","lineHeight","profileData","parseInt","onSave","mode","_c3","$RefreshReg$"],"sources":["/Users/seungsoohan/LovleChat/frontend/src/pages/ForYouPage.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport BottomNav from \"../components/BottomNav\";\nimport { useNavigate } from \"react-router-dom\";\nimport ProfileEditModal from \"../components/ProfileEditModal\";\n\ninterface Character {\n  id: number;\n  profileImg: string;\n  name: string;\n  age: number;\n  job: string;\n  oneLiner: string;\n  backgroundImg?: string;\n  firstScene?: string;\n  firstMessage?: string;\n  category?: string;\n  userId?: string;\n  selectedTags?: string[];\n}\n\ninterface Persona {\n  id: string;\n  name: string;\n  avatar: string;\n}\n\nconst DEFAULT_PERSONAS: Persona[] = [\n  { id: \"user_74127\", name: \"user_74127\", avatar: \"/avatars/user.jpg\" },\n  // 추가 페르소나 예시\n];\n\n// 프로필 이미지 경로 상수로 지정\nconst DEFAULT_PROFILE_IMG = \"/imgdefault.jpg\"; // 실제 파일 경로로 교체 필요\n\nfunction ForYouSkeleton() {\n  return (\n    <div style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\", height: \"70vh\" }}>\n      <div style={{\n        background: \"#f3f3f3\",\n        borderRadius: 20,\n        padding: 32,\n        width: 320,\n        maxWidth: \"90vw\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        boxShadow: \"0 2px 16px rgba(0,0,0,0.07)\"\n      }}>\n        <div style={{ width: 100, height: 100, borderRadius: \"50%\", background: \"#e0e0e0\", marginBottom: 20, animation: \"pulse 1.2s infinite\" }} />\n        <div style={{ width: 120, height: 24, borderRadius: 8, background: \"#e0e0e0\", marginBottom: 12, animation: \"pulse 1.2s infinite\" }} />\n        <div style={{ width: 180, height: 18, borderRadius: 8, background: \"#e0e0e0\", marginBottom: 16, animation: \"pulse 1.2s infinite\" }} />\n        <div style={{ width: \"100%\", height: 48, borderRadius: 12, background: \"#e0e0e0\", marginTop: 16, animation: \"pulse 1.2s infinite\" }} />\n      </div>\n      <style>\n        {`@keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }`}\n      </style>\n    </div>\n  );\n}\n\n// CharacterDetailModal: 첨부 이미지 스타일 전체화면 상세\nfunction CharacterDetailModal({ isOpen, onClose, character }: { isOpen: boolean, onClose: () => void, character: any }) {\n  const [tab, setTab] = React.useState(0);\n  \n  if (!isOpen || !character) return null;\n  \n  return (\n    <div style={{\n      position: 'fixed', top: 0, left: 0, width: '100vw', height: '100vh', background: 'rgba(0,0,0,0.72)', zIndex: 3000,\n      display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'flex-start', overflowY: 'auto'\n    }}>\n      <div style={{ width: '100%', maxWidth: 430, margin: '0 auto', background: 'var(--color-bg)', minHeight: '100vh', borderRadius: 0, position: 'relative', boxShadow: '0 2px 16px rgba(0,0,0,0.18)' }}>\n        {/* 상단 프사 이미지 3:4 비율 */}\n        <div style={{ width: '100%', aspectRatio: '3/4', background: '#222', display: 'flex', alignItems: 'center', justifyContent: 'center', position: 'relative' }}>\n          <img\n            src={character.profileImg || DEFAULT_PROFILE_IMG}\n            alt={character.name}\n            style={{ width: '100%', height: '100%', objectFit: 'contain', objectPosition: 'center', zIndex: 1, background: '#222' }}\n            onError={e => {\n              if (e.currentTarget.src.endsWith(DEFAULT_PROFILE_IMG)) return;\n              e.currentTarget.onerror = null;\n              e.currentTarget.src = DEFAULT_PROFILE_IMG;\n            }}\n          />\n        </div>\n        {/* 카테고리, by */}\n        <div style={{ position: 'absolute', left: 24, top: 24, display: 'flex', alignItems: 'center', gap: 10, zIndex: 2 }}>\n          <span style={{ background: 'var(--color-point)', color: '#fff', fontWeight: 700, fontSize: 13, borderRadius: 8, padding: '4px 10px' }}>{character.category || '카테고리 없음'}</span>\n          <span style={{ color: '#fff', fontWeight: 500, fontSize: 15, opacity: 0.85 }}>by. {character.userId || '-'}</span>\n        </div>\n        {/* 태그 */}\n        <div style={{ padding: '16px 20px 0 20px', display: 'flex', gap: 8, flexWrap: 'wrap' }}>\n          {character.selectedTags?.map((tag: string) => (\n            <span key={tag} style={{ background: '#ffd6ea', color: '#ff4081', borderRadius: 8, padding: '4px 10px', fontWeight: 600, fontSize: 14 }}>#{tag}</span>\n          ))}\n        </div>\n        {/* 카드 상단: 프로필, 이름, 나이/직업, 첫상황, 첫대사 */}\n        <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', padding: '32px 0 0 0' }}>\n          <img\n            src={character.profileImg || DEFAULT_PROFILE_IMG}\n            alt={character.name}\n            style={{ width: 64, height: 64, borderRadius: '50%', objectFit: 'cover', border: '3px solid #fff', background: '#eee', marginBottom: 8 }}\n            onError={e => {\n              if (e.currentTarget.src.endsWith(DEFAULT_PROFILE_IMG)) return;\n              e.currentTarget.onerror = null;\n              e.currentTarget.src = DEFAULT_PROFILE_IMG;\n            }}\n          />\n          <div style={{ fontWeight: 700, fontSize: 20, color: '#fff', marginBottom: 2 }}>{character.name}</div>\n          <div style={{ fontSize: 15, color: '#ccc', marginBottom: 10 }}>{character.age}살 · {character.job}</div>\n          {character.firstScene && (\n            <div style={{ fontSize: 15, color: '#bbb', marginBottom: 4, textAlign: 'center', maxWidth: 320 }}>{character.firstScene}</div>\n          )}\n          {character.firstMessage && (\n            <div style={{ fontSize: 17, color: '#fff', fontWeight: 500, background: 'rgba(255,255,255,0.08)', borderRadius: 10, padding: '8px 16px', marginBottom: 8, textAlign: 'center', maxWidth: 320 }}>{character.firstMessage}</div>\n          )}\n        </div>\n        {/* 탭 */}\n        <div style={{ display: 'flex', margin: '24px 0 0 0', borderBottom: '1.5px solid #f5b3d7' }}>\n          <div onClick={() => setTab(0)} style={{ flex: 1, textAlign: 'center', padding: 12, fontWeight: 700, color: tab === 0 ? '#ff4081' : '#bbb', borderBottom: tab === 0 ? '2.5px solid #ff4081' : 'none', cursor: 'pointer' }}>서사</div>\n          <div onClick={() => setTab(1)} style={{ flex: 1, textAlign: 'center', padding: 12, fontWeight: 700, color: tab === 1 ? '#ff4081' : '#bbb', borderBottom: tab === 1 ? '2.5px solid #ff4081' : 'none', cursor: 'pointer' }}>첫 장면</div>\n          <div onClick={() => setTab(2)} style={{ flex: 1, textAlign: 'center', padding: 12, fontWeight: 700, color: tab === 2 ? '#ff4081' : '#bbb', borderBottom: tab === 2 ? '2.5px solid #ff4081' : 'none', cursor: 'pointer' }}>커뮤니티</div>\n        </div>\n        {/* 탭 내용 */}\n        <div style={{ padding: '20px' }}>\n          {tab === 0 && (\n            <>\n              <div style={{ fontWeight: 700, fontSize: 16, marginBottom: 6 }}>{character.name}의 서사</div>\n              <div style={{ background: 'var(--color-card)', borderRadius: 12, padding: 16, fontWeight: 500, color: 'var(--color-text)', fontSize: 16 }}>{character.firstScene || '등록된 서사가 없습니다.'}</div>\n            </>\n          )}\n          {tab === 1 && (\n            <>\n              <div style={{ fontWeight: 700, fontSize: 16, marginBottom: 6 }}>첫 상황</div>\n              <div style={{ background: 'var(--color-card)', borderRadius: 12, padding: 16, fontWeight: 500, color: 'var(--color-text)', fontSize: 16, marginBottom: 16 }}>{character.firstScene || '등록된 첫 상황이 없습니다.'}</div>\n              <div style={{ fontWeight: 700, fontSize: 16, marginBottom: 6 }}>채팅 첫 마디</div>\n              <div style={{ background: 'var(--color-card)', borderRadius: 12, padding: 16, fontWeight: 500, color: 'var(--color-text)', fontSize: 16 }}>{character.firstMessage || '등록된 첫 마디가 없습니다.'}</div>\n            </>\n          )}\n          {tab === 2 && (\n            <>\n              <div style={{ background: 'var(--color-card)', borderRadius: 12, padding: 32, fontWeight: 700, color: '#ff4081', fontSize: 18, textAlign: 'center' }}>준비중</div>\n            </>\n          )}\n        </div>\n        {/* 하단 고정 채팅하기 버튼 */}\n        <button\n          style={{\n            position: 'fixed', left: 0, right: 0, bottom: 0, height: 56, background: '#ff4081', color: '#fff', fontWeight: 700, fontSize: 20, border: 'none', borderRadius: 0, cursor: 'pointer', zIndex: 10\n          }}\n          onClick={() => window.location.href = `/chat/${character.id}`}\n        >채팅하기</button>\n      </div>\n    </div>\n  );\n}\n\nexport default function ForYouPage() {\n  const [characters, setCharacters] = useState<Character[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [index, setIndex] = useState(0);\n  const [showPersonaModal, setShowPersonaModal] = useState(false);\n  const [showPersonaManager, setShowPersonaManager] = useState(false);\n  const [showPersonaCreator, setShowPersonaCreator] = useState(false);\n  const [personas, setPersonas] = useState<Persona[]>(DEFAULT_PERSONAS);\n  const [selectedPersona, setSelectedPersona] = useState<string>(personas[0]?.id || \"\");\n  const [addingPersona, setAddingPersona] = useState(false);\n  const [newPersonaName, setNewPersonaName] = useState(\"\");\n  const [newPersonaAvatar, setNewPersonaAvatar] = useState<string>(\"\");\n  const [creatorProfileImg, setCreatorProfileImg] = useState<string>(\"\");\n  const [creatorGender, setCreatorGender] = useState(\"밝히지 않음\");\n  const [creatorName, setCreatorName] = useState(\"\");\n  const [creatorAge, setCreatorAge] = useState(\"\");\n  const [creatorJob, setCreatorJob] = useState(\"\");\n  const [creatorInfo, setCreatorInfo] = useState(\"\");\n  const [creatorHabit, setCreatorHabit] = useState(\"\");\n  const [showProfileModal, setShowProfileModal] = useState(false);\n  const [selectedProfile, setSelectedProfile] = useState<any>(null);\n  const [showProfileEditModal, setShowProfileEditModal] = useState(false);\n  const [editProfile, setEditProfile] = useState<any>(null);\n  const [showProfileCreateModal, setShowProfileCreateModal] = useState(false);\n  const navigate = useNavigate();\n\n  // 프로필 사진 업로드\n  const fileInputRef = React.useRef<HTMLInputElement>(null);\n  const handleProfileImgClick = () => fileInputRef.current?.click();\n  const handleProfileImgChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = (ev) => {\n        setCreatorProfileImg(ev.target?.result as string);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  // userId는 임시로 하드코딩\n  const userId = \"user_74127\";\n\n  // 멀티프로필 목록 불러오기 (GET)\n  useEffect(() => {\n    fetch(`/api/persona?userId=${userId}`)\n      .then(res => res.json())\n      .then(data => {\n        if (data.ok) setPersonas(data.personas);\n      });\n  }, [showPersonaManager, showPersonaCreator]);\n\n  useEffect(() => {\n    fetch(\"/api/character\")\n      .then(res => res.json())\n      .then(data => {\n        if (data.ok) setCharacters(data.characters);\n        setLoading(false);\n      });\n  }, []);\n\n  useEffect(() => {\n    if (showPersonaCreator) {\n      setCreatorProfileImg(\"\");\n      setCreatorGender(\"밝히지 않음\");\n      setCreatorName(\"\");\n      setCreatorAge(\"\");\n      setCreatorJob(\"\");\n      setCreatorInfo(\"\");\n      setCreatorHabit(\"\");\n    }\n  }, [showPersonaCreator]);\n\n  const handlePrev = () => {\n    setIndex((prev) => (prev === 0 ? characters.length - 1 : prev - 1));\n  };\n  const handleNext = () => {\n    setIndex((prev) => (prev === characters.length - 1 ? 0 : prev + 1));\n  };\n\n  // 터치 스와이프 지원\n  let touchStartX = 0;\n  let touchEndX = 0;\n  const handleTouchStart = (e: React.TouchEvent) => {\n    touchStartX = e.changedTouches[0].screenX;\n  };\n  const handleTouchEnd = (e: React.TouchEvent) => {\n    touchEndX = e.changedTouches[0].screenX;\n    if (touchEndX - touchStartX > 50) handlePrev();\n    else if (touchStartX - touchEndX > 50) handleNext();\n  };\n\n  // 채팅하기 버튼 클릭 시\n  const handleChatClick = () => {\n    setShowPersonaModal(true);\n  };\n\n  // 페르소나 추가\n  const handleAddPersona = () => {\n    if (!newPersonaName) return;\n    setPersonas(prev => [\n      ...prev,\n      { id: newPersonaName, name: newPersonaName, avatar: newPersonaAvatar || \"/avatars/user.jpg\" }\n    ]);\n    setSelectedPersona(newPersonaName);\n    setNewPersonaName(\"\");\n    setNewPersonaAvatar(\"\");\n    setAddingPersona(false);\n  };\n\n  // 멀티프로필 생성 완료 (POST)\n  const handlePersonaCreate = async () => {\n    if (!creatorName) return alert(\"이름을 입력해주세요\");\n    const payload = {\n      userId,\n      name: creatorName,\n      avatar: creatorProfileImg || \"/avatars/user.jpg\",\n      gender: creatorGender,\n      age: creatorAge,\n      job: creatorJob,\n      info: creatorInfo,\n      habit: creatorHabit,\n    };\n    const res = await fetch(\"/api/persona\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(payload),\n    });\n    const data = await res.json();\n    if (data.ok) {\n      setShowPersonaCreator(false);\n      setShowPersonaManager(false);\n      // 폼 초기화는 useEffect에서 처리\n    } else {\n      alert(\"프로필 저장 실패: \" + data.error);\n    }\n  };\n\n  // 멀티프로필 삭제 (DELETE)\n  const handleDeletePersona = async (id: string) => {\n    if (id === userId) return; // 기본 프로필은 삭제 불가\n    if (window.confirm(\"정말로 삭제하시겠습니까?\")) {\n      await fetch(`/api/persona/${id}`, { method: \"DELETE\" });\n      setPersonas(prev => prev.filter(p => p.id !== id));\n      if (selectedPersona === id && personas.length > 1) {\n        setSelectedPersona(personas[0].id);\n      }\n    }\n  };\n\n  // 채팅 시작\n  const handleStartChat = () => {\n    setShowPersonaModal(false);\n    // 실제로는 navigate(`/chat/${characters[index].id}?persona=${selectedPersona}`)\n    window.location.href = `/chat/${characters[index].id}?persona=${selectedPersona}`;\n  };\n\n  // 캐릭터 카드 클릭 시 상세로 이동\n  const handleCardClick = (id: number) => {\n    navigate(`/character/${id}`);\n  };\n\n  // 멀티프로필 관리 모달 내부\n  const PersonaManager = () => (\n    <div style={{\n      position: \"fixed\", left: 0, top: 0, width: \"100vw\", height: \"100vh\", background: \"var(--color-card)\", zIndex: 2000, display: \"flex\", flexDirection: \"column\"\n    }}>\n      <div style={{ display: \"flex\", alignItems: \"center\", padding: \"18px 20px 10px 20px\", borderBottom: \"1px solid #eee\", justifyContent: 'space-between' }}>\n        <div style={{ display: 'flex', alignItems: 'center' }}>\n          <button onClick={() => setShowPersonaManager(false)} style={{ background: \"none\", border: \"none\", fontSize: 26, marginRight: 8, cursor: \"pointer\", color: \"#fff\" }}>&larr;</button>\n          <span style={{ fontWeight: 700, fontSize: 22 }}>멀티프로필</span>\n        </div>\n        <button\n          onClick={() => setShowProfileCreateModal(true)}\n          disabled={personas.length >= 10}\n          style={{ display: \"flex\", alignItems: \"center\", background: \"none\", border: \"none\", color: personas.length >= 10 ? \"#888\" : \"#ff4081\", fontWeight: 600, fontSize: 18, cursor: personas.length >= 10 ? \"not-allowed\" : \"pointer\" }}\n          title={personas.length >= 10 ? '최대 10개까지 생성할 수 있습니다.' : ''}\n        >\n          <span style={{ fontSize: 26, marginRight: 4 }}>+</span> 만들기 ({personas.length}/10)\n        </button>\n      </div>\n      <div style={{ padding: 24 }}>\n        {personas.length === 0 && (\n          <div style={{ color: \"#bbb\", fontSize: 16, marginTop: 40 }}>아직 등록된 프로필이 없습니다.</div>\n        )}\n        {[...personas].sort((a, b) => (a.id === \"user_74127\" ? -1 : b.id === \"user_74127\" ? 1 : 0)).map(p => (\n          <div key={p.id} style={{ display: \"flex\", alignItems: \"center\", background: \"var(--color-card-alt)\", borderRadius: 12, padding: 14, marginBottom: 14 }}>\n            <img\n              src={p.avatar || \"/imgdefault.jpg\"}\n              alt={p.name}\n              style={{ width: 44, height: 44, borderRadius: \"50%\", marginRight: 14, objectFit: \"cover\" }}\n              onError={e => { e.currentTarget.onerror = null; e.currentTarget.src = \"/imgdefault.jpg\"; }}\n            />\n            <span style={{ fontWeight: 600, fontSize: 17 }}>{p.name}</span>\n            {p.id !== \"user_74127\" ? (\n              <>\n                <button onClick={() => handleProfileEdit(p)} style={{ marginLeft: \"auto\", background: \"none\", border: \"none\", color: \"#ff4081\", fontSize: 18, cursor: \"pointer\" }}>수정</button>\n                <button onClick={() => handleDeletePersona(p.id)} style={{ background: \"none\", border: \"none\", color: \"#ff4081\", fontSize: 22, cursor: \"pointer\" }}>✕</button>\n              </>\n            ) : (\n              <span style={{ marginLeft: \"auto\", color: \"#bbb\", fontSize: 15 }}>기본 프로필</span>\n            )}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n\n  // 멀티프로필 생성 폼 전체화면\n  const PersonaCreator = ({\n    creatorProfileImg,\n    handleProfileImgClick,\n    fileInputRef,\n    handleProfileImgChange,\n    creatorGender,\n    setCreatorGender,\n    creatorName,\n    setCreatorName,\n    creatorAge,\n    setCreatorAge,\n    creatorJob,\n    setCreatorJob,\n    creatorInfo,\n    setCreatorInfo,\n    creatorHabit,\n    setCreatorHabit,\n    handlePersonaCreate,\n    setShowPersonaCreator\n  }: any) => (\n    <div style={{ position: \"fixed\", left: 0, top: 0, width: \"100vw\", height: \"100vh\", background: \"var(--color-card)\", zIndex: 3000, display: \"flex\", flexDirection: \"column\" }}>\n      <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\", padding: \"18px 20px 10px 20px\" }}>\n        <button onClick={() => setShowPersonaCreator(false)} style={{ background: \"none\", border: \"none\", fontSize: 26, cursor: \"pointer\", color: \"#fff\" }}>&larr;</button>\n        <span></span>\n        <button onClick={handlePersonaCreate} style={{ background: \"none\", border: \"none\", color: \"#ff4081\", fontWeight: 700, fontSize: 20, cursor: \"pointer\" }}>완료</button>\n      </div>\n      <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\", marginTop: 16 }}>\n        <div style={{ position: \"relative\", width: 110, height: 110, marginBottom: 16 }}>\n          <img\n            src={creatorProfileImg || \"/imgdefault.jpg\"}\n            alt=\"프로필\"\n            style={{ width: 110, height: 110, borderRadius: \"50%\", objectFit: \"cover\", background: \"#ffe5e5\" }}\n          />\n          <button\n            type=\"button\"\n            onClick={handleProfileImgClick}\n            style={{\n              position: \"absolute\", right: 0, bottom: 0, background: \"#fff\", border: \"none\", borderRadius: \"50%\", width: 36, height: 36, display: \"flex\", alignItems: \"center\", justifyContent: \"center\", fontSize: 20, boxShadow: \"0 2px 8px rgba(0,0,0,0.08)\", cursor: \"pointer\"\n            }}\n            aria-label=\"프로필 사진 변경\"\n          >\n            <span role=\"img\" aria-label=\"edit\">✏️</span>\n          </button>\n          <input\n            ref={fileInputRef}\n            type=\"file\"\n            accept=\"image/*\"\n            style={{ display: \"none\" }}\n            onChange={handleProfileImgChange}\n          />\n        </div>\n      </div>\n      <div style={{ padding: \"0 20px\", marginTop: 8 }}>\n        {/* 성별 */}\n        <div style={{ fontWeight: 700, fontSize: 16, marginBottom: 8 }}>성별</div>\n        <div style={{ display: \"flex\", gap: 18, marginBottom: 18 }}>\n          {['남성', '여성', '밝히지 않음'].map(g => (\n            <label key={g} style={{ display: \"flex\", alignItems: \"center\", fontWeight: 500, fontSize: 16 }}>\n              <input type=\"radio\" checked={creatorGender === g} onChange={() => setCreatorGender(g)} style={{ marginRight: 6 }} /> {g}\n            </label>\n          ))}\n        </div>\n        {/* 이름 */}\n        <div style={{ fontWeight: 700, fontSize: 16, marginBottom: 4 }}>이름 <span style={{ color: '#888', fontWeight: 400, fontSize: 14 }}>(필수)</span></div>\n        <input\n          placeholder=\"이름을 입력해주세요\"\n          value={creatorName}\n          onChange={e => {\n            const v = e.target.value;\n            if (v.length <= 15) setCreatorName(v);\n            else setCreatorName(v.slice(0, 15));\n          }}\n          style={{ width: \"100%\", borderRadius: 12, border: \"1px solid #eee\", padding: 14, fontSize: 16, marginBottom: 2, background: '#fafafa' }}\n        />\n        <div style={{ color: '#bbb', fontSize: 13, textAlign: 'right', marginBottom: 12 }}>{creatorName.length}/15</div>\n        {/* 나이 */}\n        <div style={{ fontWeight: 700, fontSize: 16, marginBottom: 4 }}>나이</div>\n        <input\n          placeholder=\"나이를 입력해주세요\"\n          value={creatorAge}\n          onChange={e => {\n            const v = e.target.value;\n            if (v.length <= 15) setCreatorAge(v);\n            else setCreatorAge(v.slice(0, 15));\n          }}\n          style={{ width: \"100%\", borderRadius: 12, border: \"1px solid #eee\", padding: 14, fontSize: 16, marginBottom: 2, background: '#fafafa' }}\n        />\n        <div style={{ color: '#bbb', fontSize: 13, textAlign: 'right', marginBottom: 12 }}>{creatorAge.length}/15</div>\n        {/* 직업 */}\n        <div style={{ fontWeight: 700, fontSize: 16, marginBottom: 4 }}>직업</div>\n        <input\n          placeholder=\"직업을 입력해주세요\"\n          value={creatorJob}\n          onChange={e => {\n            const v = e.target.value;\n            if (v.length <= 15) setCreatorJob(v);\n            else setCreatorJob(v.slice(0, 15));\n          }}\n          style={{ width: \"100%\", borderRadius: 12, border: \"1px solid #eee\", padding: 14, fontSize: 16, marginBottom: 2, background: '#fafafa' }}\n        />\n        <div style={{ color: '#bbb', fontSize: 13, textAlign: 'right', marginBottom: 12 }}>{creatorJob.length}/15</div>\n        {/* 기본 정보 */}\n        <div style={{ fontWeight: 700, fontSize: 16, marginBottom: 4 }}>기본 정보</div>\n        <textarea\n          placeholder=\"외모, 성격 등 기본 정보를 알려주세요\"\n          value={creatorInfo}\n          onChange={e => {\n            const v = e.target.value;\n            if (v.length <= 500) setCreatorInfo(v);\n            else setCreatorInfo(v.slice(0, 500));\n          }}\n          style={{ width: \"100%\", borderRadius: 12, border: \"1px solid #eee\", padding: 14, fontSize: 16, marginBottom: 2, background: '#fafafa', resize: 'none' }}\n          rows={3}\n        />\n        <div style={{ color: '#bbb', fontSize: 13, textAlign: 'right', marginBottom: 12 }}>{creatorInfo.length}/500</div>\n        {/* 습관적 말과 행동 */}\n        <div style={{ fontWeight: 700, fontSize: 16, marginBottom: 4 }}>습관적인 말과 행동</div>\n        <textarea\n          placeholder=\"예시를 입력해주세요\"\n          value={creatorHabit}\n          onChange={e => {\n            const v = e.target.value;\n            if (v.length <= 500) setCreatorHabit(v);\n            else setCreatorHabit(v.slice(0, 500));\n          }}\n          style={{ width: \"100%\", borderRadius: 12, border: \"1px solid #eee\", padding: 14, fontSize: 16, marginBottom: 2, background: '#fafafa', resize: 'none' }}\n          rows={3}\n        />\n        <div style={{ color: '#bbb', fontSize: 13, textAlign: 'right', marginBottom: 12 }}>{creatorHabit.length}/500</div>\n      </div>\n    </div>\n  );\n\n  const handleProfileEdit = (profile: any) => {\n    console.log('수정 클릭', profile);\n    setEditProfile(profile);\n    setShowProfileEditModal(true);\n  };\n\n  const handleProfileSave = async (updatedProfile: any) => {\n    try {\n      const response = await fetch(`/api/persona/${updatedProfile.id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          name: updatedProfile.name,\n          gender: updatedProfile.gender,\n          age: updatedProfile.age,\n          job: updatedProfile.job,\n          info: updatedProfile.info,\n          habit: updatedProfile.habit,\n          avatar: updatedProfile.avatar || '/imgdefault.jpg'\n        }),\n      });\n      if (response.ok) {\n        setPersonas(prev => prev.map(p => p.id === updatedProfile.id ? updatedProfile : p));\n        setShowProfileEditModal(false);\n        setEditProfile(null);\n        alert('프로필이 성공적으로 수정되었습니다.');\n      } else {\n        throw new Error('프로필 수정에 실패했습니다.');\n      }\n    } catch (error) {\n      alert('프로필 수정 중 오류가 발생했습니다.');\n    }\n  };\n\n  const handleProfileCreate = async (newProfile: any) => {\n    try {\n      const response = await fetch(`/api/persona`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          userId,\n          name: newProfile.name,\n          gender: newProfile.gender,\n          age: newProfile.age,\n          job: newProfile.job,\n          info: newProfile.info,\n          habit: newProfile.habit,\n          avatar: newProfile.avatar\n        }),\n      });\n      if (response.ok) {\n        setShowProfileCreateModal(false);\n        setShowPersonaManager(false);\n        // 목록 갱신\n        fetch(`/api/persona?userId=${userId}`)\n          .then(res => res.json())\n          .then(data => { if (data.ok) setPersonas(data.personas); });\n        alert('프로필이 성공적으로 생성되었습니다.');\n      } else {\n        throw new Error('프로필 생성에 실패했습니다.');\n      }\n    } catch (error) {\n      alert('프로필 생성 중 오류가 발생했습니다.');\n    }\n  };\n\n  return (\n    <div style={{ background: \"var(--color-bg)\", minHeight: \"100vh\", paddingBottom: 80 }}>\n      <div style={{ padding: \"24px 20px 0 20px\", fontWeight: 700, fontSize: 24, textAlign: \"center\" }}>FOR YOU ♥</div>\n      {loading ? (\n        <ForYouSkeleton />\n      ) : characters.length === 0 ? (\n        <div style={{ padding: 20, color: \"#888\" }}>저장된 캐릭터가 없습니다.</div>\n      ) : (\n        <div\n          style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\", height: \"70vh\", position: \"relative\" }}\n          onTouchStart={handleTouchStart}\n          onTouchEnd={handleTouchEnd}\n        >\n          <button onClick={handlePrev} style={{ position: \"absolute\", left: 10, top: \"50%\", transform: \"translateY(-50%)\", fontSize: 32, background: \"none\", border: \"none\", cursor: \"pointer\", color: \"#fff\" }} aria-label=\"이전 캐릭터\">&#60;</button>\n          <div\n            style={{\n              position: \"relative\",\n              width: 340,\n              maxWidth: \"95vw\",\n              height: 480,\n              borderRadius: 28,\n              overflow: \"hidden\",\n              boxShadow: \"0 2px 16px rgba(0,0,0,0.13)\",\n              display: \"flex\",\n              flexDirection: \"column\",\n              justifyContent: \"flex-end\",\n              background: \"#222\"\n            }}\n          >\n            {/* Blurred background */}\n            <div style={{\n              position: \"absolute\",\n              inset: 0,\n              background: `url(${characters[index].backgroundImg || characters[index].profileImg}) center/cover no-repeat`,\n              filter: \"blur(18px) brightness(0.7)\",\n              zIndex: 1\n            }} />\n            {/* Overlay for darkening */}\n            <div style={{ position: \"absolute\", inset: 0, background: \"rgba(0,0,0,0.45)\", zIndex: 2 }} />\n            {/* Profile section */}\n            <div style={{ position: \"absolute\", top: 32, left: 0, width: \"100%\", zIndex: 3, display: \"flex\", alignItems: \"center\", padding: \"0 28px\" }}>\n              <img\n                src={characters[index].profileImg || DEFAULT_PROFILE_IMG}\n                alt={characters[index].name}\n                style={{ width: 64, height: 64, borderRadius: \"50%\", objectFit: \"cover\", border: \"3px solid #fff\", background: \"#eee\", cursor: \"pointer\" }}\n                onError={e => {\n                  if (e.currentTarget.src.endsWith(DEFAULT_PROFILE_IMG)) return;\n                  e.currentTarget.onerror = null;\n                  e.currentTarget.src = DEFAULT_PROFILE_IMG;\n                }}\n                onClick={() => {\n                  setSelectedProfile({\n                    id: characters[index].id?.toString() ?? \"\",\n                    name: characters[index].name,\n                    avatar: characters[index].profileImg,\n                    age: characters[index].age?.toString(),\n                    job: characters[index].job,\n                    info: characters[index].oneLiner,\n                    // gender, habit 등 필요시 추가\n                  });\n                  setShowProfileModal(true);\n                }}\n              />\n              <div style={{ marginLeft: 18, display: \"flex\", flexDirection: \"column\", justifyContent: \"center\" }}>\n                <div style={{ fontWeight: 700, fontSize: 22, color: \"#fff\", marginBottom: 2 }}>{characters[index].name}</div>\n                <div style={{ color: \"#e0e0e0\", fontSize: 15, fontWeight: 400 }}>{characters[index].age ? `${characters[index].age}살` : \"나이 비공개\"} · {characters[index].job || \"직업 비공개\"}</div>\n              </div>\n            </div>\n            {/* 서사/첫대사 section */}\n            <div style={{ position: \"relative\", zIndex: 4, padding: \"0 28px 38px 28px\", width: \"100%\", display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\n              {/* 서사(첫장면) */}\n              {characters[index].firstScene && (\n                <div style={{ color: \"#fff\", fontSize: 17, fontWeight: 500, marginBottom: 18, textShadow: \"0 2px 8px rgba(0,0,0,0.22)\", lineHeight: 1.6, textAlign: 'center', maxWidth: 260 }}>\n                  {characters[index].firstScene}\n                </div>\n              )}\n              {/* 첫대사(첫마디) */}\n              {characters[index].firstMessage && (\n                <div style={{ background: \"rgba(30,30,30,0.82)\", color: \"#fff\", fontSize: 16, borderRadius: 14, padding: \"18px 18px 18px 22px\", fontWeight: 400, marginBottom: 10, boxShadow: \"0 2px 8px rgba(0,0,0,0.10)\", border: \"1.5px solid #fff2\", textAlign: 'center', maxWidth: 260 }}>\n                  {characters[index].firstMessage}\n                </div>\n              )}\n            </div>\n            {/* 채팅하기 버튼 */}\n            <button\n              style={{\n                position: \"absolute\",\n                bottom: 18,\n                left: 28,\n                right: 28,\n                height: 48,\n                background: \"#ff4081\",\n                color: \"#fff\",\n                fontWeight: 700,\n                fontSize: 18,\n                border: \"none\",\n                borderRadius: 12,\n                cursor: \"pointer\",\n                zIndex: 5,\n                boxShadow: \"0 2px 8px rgba(0,0,0,0.13)\"\n              }}\n              onClick={handleChatClick}\n            >채팅하기</button>\n          </div>\n          <button onClick={handleNext} style={{ position: \"absolute\", right: 10, top: \"50%\", transform: \"translateY(-50%)\", fontSize: 32, background: \"none\", border: \"none\", cursor: \"pointer\", color: \"#fff\" }} aria-label=\"다음 캐릭터\">&#62;</button>\n        </div>\n      )}\n      {/* 페르소나 선택 전체화면 모달 */}\n      {showPersonaModal && (\n        <div style={{\n          position: \"fixed\", left: 0, top: 0, width: \"100vw\", height: \"100vh\", background: \"var(--color-bg)\", zIndex: 1500, display: \"flex\", flexDirection: \"column\"\n        }}>\n          <div style={{ display: \"flex\", alignItems: \"center\", padding: \"18px 20px 10px 20px\", borderBottom: \"1px solid var(--color-border)\" }}>\n            <button onClick={() => setShowPersonaModal(false)} style={{ background: \"none\", border: \"none\", fontSize: 26, marginRight: 8, cursor: \"pointer\", color: \"#fff\" }}>&larr;</button>\n            <span style={{ fontWeight: 700, fontSize: 22, color: \"var(--color-text)\" }}>채팅 프로필</span>\n          </div>\n          <div style={{ padding: 24, flex: 1, overflowY: \"auto\" }}>\n            <div style={{ fontWeight: 700, fontSize: 16, marginBottom: 8, color: \"var(--color-subtext)\" }}>멀티프로필</div>\n            <div style={{ color: \"var(--color-subtext)\", fontSize: 14, marginBottom: 16 }}>직업과 기본 정보를 추가 지원합니다</div>\n            <div style={{ fontWeight: 700, fontSize: 16, marginBottom: 8, color: \"var(--color-subtext)\" }}>유저 프로필</div>\n            {personas.map(p => (\n              <div key={p.id} style={{ display: \"flex\", alignItems: \"center\", background: selectedPersona === p.id ? \"#2a1a22\" : \"var(--color-card)\", borderRadius: 12, padding: 10, marginBottom: 10, cursor: \"pointer\" }} onClick={() => setSelectedPersona(p.id)}>\n                <img\n                  src={p.avatar || \"/imgdefault.jpg\"}\n                  alt={p.name}\n                  style={{ width: 40, height: 40, borderRadius: \"50%\", marginRight: 12, objectFit: \"cover\" }}\n                  onError={e => { e.currentTarget.onerror = null; e.currentTarget.src = \"/imgdefault.jpg\"; }}\n                />\n                <span style={{ fontWeight: 600, fontSize: 16, color: \"var(--color-text)\" }}>{p.name}</span>\n                {selectedPersona === p.id && <span style={{ marginLeft: \"auto\", color: \"#ff4081\", fontSize: 22 }}>✔️</span>}\n              </div>\n            ))}\n            <button onClick={() => setShowPersonaManager(true)} style={{ width: \"100%\", background: \"#18141a\", color: \"#ff4081\", border: \"1px solid #ff4081\", borderRadius: 8, padding: 10, fontWeight: 700, fontSize: 16, marginTop: 8 }}>+ 프로필 추가/관리</button>\n            <button onClick={handleStartChat} style={{ width: \"100%\", background: \"#ff4081\", color: \"#fff\", border: \"none\", borderRadius: 12, padding: 14, fontWeight: 700, fontSize: 18, marginTop: 18 }}>채팅하기</button>\n          </div>\n        </div>\n      )}\n      {/* 멀티프로필 관리 전체화면 모달 */}\n      {showPersonaManager && <PersonaManager />}\n      {showPersonaCreator && (\n        <PersonaCreator\n          creatorProfileImg={creatorProfileImg}\n          handleProfileImgClick={handleProfileImgClick}\n          fileInputRef={fileInputRef}\n          handleProfileImgChange={handleProfileImgChange}\n          creatorGender={creatorGender}\n          setCreatorGender={setCreatorGender}\n          creatorName={creatorName}\n          setCreatorName={setCreatorName}\n          creatorAge={creatorAge}\n          setCreatorAge={setCreatorAge}\n          creatorJob={creatorJob}\n          setCreatorJob={setCreatorJob}\n          creatorInfo={creatorInfo}\n          setCreatorInfo={setCreatorInfo}\n          creatorHabit={creatorHabit}\n          setCreatorHabit={setCreatorHabit}\n          handlePersonaCreate={handlePersonaCreate}\n          setShowPersonaCreator={setShowPersonaCreator}\n        />\n      )}\n      {/* 프로필 상세 모달 */}\n      <CharacterDetailModal\n        isOpen={showProfileModal}\n        onClose={() => setShowProfileModal(false)}\n        character={selectedProfile}\n      />\n      {/* 프로필 수정 모달 */}\n      {console.log('ProfileEditModal 조건', showProfileEditModal, editProfile)}\n      {showProfileEditModal && editProfile && (\n        <ProfileEditModal\n          isOpen={showProfileEditModal}\n          onClose={() => { setShowProfileEditModal(false); setEditProfile(null); }}\n          profileData={{\n            id: editProfile.id,\n            name: editProfile.name,\n            gender: editProfile.gender || '',\n            age: editProfile.age ? parseInt(editProfile.age) : 0,\n            job: editProfile.job || '',\n            info: editProfile.info || '',\n            habit: editProfile.habit || '',\n            avatar: editProfile.avatar || '/imgdefault.jpg'\n          }}\n          onSave={handleProfileSave}\n        />\n      )}\n      {/* 멀티프로필 생성 모달 */}\n      {showProfileCreateModal && (\n        <ProfileEditModal\n          isOpen={showProfileCreateModal}\n          onClose={() => setShowProfileCreateModal(false)}\n          profileData={{\n            id: '',\n            name: '',\n            gender: '',\n            age: 0,\n            job: '',\n            info: '',\n            habit: '',\n            avatar: '/imgdefault.jpg'\n          }}\n          onSave={handleProfileCreate}\n          mode=\"create\"\n        />\n      )}\n      <BottomNav />\n    </div>\n  );\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}