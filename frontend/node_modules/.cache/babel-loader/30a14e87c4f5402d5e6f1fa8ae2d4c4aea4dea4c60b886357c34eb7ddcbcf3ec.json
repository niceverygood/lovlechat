{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{useAuth}from\"../hooks/useAuth\";import{API_BASE_URL}from'../lib/openai';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ChatList(){const navigate=useNavigate();const{user}=useAuth();const[chats,setChats]=useState([]);const[personas,setPersonas]=useState([]);const[editMode,setEditMode]=useState(false);const[showLoginModal,setShowLoginModal]=useState(false);const userId=(user===null||user===void 0?void 0:user.uid)||\"guest\";useEffect(()=>{if(!user){// 게스트: 더미 데이터 5개 랜덤\nfetch(\"\".concat(API_BASE_URL,\"/api/chat/dummy?count=5\")).then(res=>res.json()).then(data=>{if(data.ok)setChats(data.chats);});setPersonas([]);}else{fetch(\"\".concat(API_BASE_URL,\"/api/chat/list?userId=\").concat(userId)).then(res=>res.json()).then(data=>{if(data.ok)setChats(data.chats);});fetch(\"\".concat(API_BASE_URL,\"/api/persona?userId=\").concat(userId)).then(res=>res.json()).then(data=>{if(data.ok)setPersonas(data.personas);});}},[user]);// 현재 존재하는 멀티프로필 id만 추출 (모두 문자열로 변환)\nconst validPersonaIds=personas.map(p=>{var _p$id;return(_p$id=p.id)===null||_p$id===void 0?void 0:_p$id.toString();});// 채팅방 나가기(삭제)\nconst handleLeaveChat=async chat=>{if(!window.confirm('정말로 이 채팅방을 나가시겠습니까?'))return;await fetch(\"\".concat(API_BASE_URL,\"/api/chat\"),{method:'DELETE',headers:{'Content-Type':'application/json'},body:JSON.stringify({userId:chat.personaId,characterId:chat.characterId})});setChats(prev=>prev.filter(c=>!(c.characterId===chat.characterId&&c.personaId===chat.personaId)));};// 구글 로그인\nconst handleGoogleLogin=async()=>{window.location.href=\"/login\";};return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:430,margin:'0 auto',background:'transparent',minHeight:'100vh',paddingTop:0},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',padding:'16px 20px 12px 20px',marginTop:0},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:700,fontSize:24,color:'#fff',letterSpacing:1},children:\"\\uCC44\\uD305\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditMode(e=>!e),style:{background:'none',border:'none',borderRadius:8,padding:4,marginLeft:8,cursor:'pointer',display:'flex',alignItems:'center',transition:'background 0.15s'},\"aria-label\":\"\\uCC44\\uD305 \\uD3B8\\uC9D1\",onMouseOver:e=>e.currentTarget.style.background='rgba(255,255,255,0.08)',onMouseOut:e=>e.currentTarget.style.background='none',children:/*#__PURE__*/_jsx(\"svg\",{width:\"22\",height:\"22\",viewBox:\"0 0 20 20\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M14.13 2.87a2.5 2.5 0 1 1 3.54 3.54l-9.19 9.19a2 2 0 0 1-.71.44l-3.13 1.09a.5.5 0 0 1-.64-.64l1.09-3.13a2 2 0 0 1 .44-.71l9.2-9.19Zm2.12-1.41a3.5 3.5 0 0 0-4.95 0l-9.2 9.19a4 4 0 0 0-.89 1.42l-1.09 3.13A1.5 1.5 0 0 0 2.5 17.5c.16 0 .33-.03.49-.09l3.13-1.09a4 4 0 0 0 1.42-.89l9.19-9.19a3.5 3.5 0 0 0 0-4.95Z\",fill:\"#fff\"})})})]}),chats.length===0?/*#__PURE__*/_jsx(\"div\",{style:{color:\"#888\",textAlign:\"center\",marginTop:40},children:\"\\uB300\\uD654 \\uB0B4\\uC5ED\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"}):chats.filter(chat=>{var _chat$personaId;return user?validPersonaIds.includes((_chat$personaId=chat.personaId)===null||_chat$personaId===void 0?void 0:_chat$personaId.toString()):true;}).map(chat=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',padding:'16px 12px',borderBottom:'1px solid #222',gap:16,background:editMode?'#19171a':'transparent',position:'relative',borderRadius:14,margin:'0 8px 10px 8px',boxShadow:editMode?'0 2px 8px #0002':'none',transition:'background 0.2s',cursor:user?editMode?'default':'pointer':'pointer'},onClick:()=>{if(editMode)return;if(!user){setShowLoginModal(true);return;}if(!chat.personaId)return alert('이 대화는 멀티프로필 정보가 없어 진입할 수 없습니다.');navigate(\"/chat/\".concat(chat.characterId,\"?persona=\").concat(chat.personaId.toString()));},children:[/*#__PURE__*/_jsx(\"img\",{src:chat.profileImg||\"/imgdefault.jpg\",alt:chat.name,style:{width:48,height:48,borderRadius:'50%',objectFit:'cover'},onError:e=>{e.currentTarget.onerror=null;e.currentTarget.src=\"/imgdefault.jpg\";}}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,minWidth:0},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold',fontSize:'1.1rem',whiteSpace:'nowrap',overflow:'hidden',textOverflow:'ellipsis',color:'#fff'},children:chat.name}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#aaa',fontSize:'0.95rem',marginTop:4,whiteSpace:'nowrap',overflow:'hidden',textOverflow:'ellipsis',maxWidth:200},children:chat.lastMessage})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center',marginLeft:24,minWidth:60},children:[/*#__PURE__*/_jsx(\"img\",{src:chat.personaAvatar||\"/imgdefault.jpg\",alt:chat.personaName||\"프로필\",style:{width:40,height:40,borderRadius:'50%',objectFit:'cover',marginBottom:2},onError:e=>{e.currentTarget.onerror=null;e.currentTarget.src=\"/imgdefault.jpg\";}}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:12,color:'#bbb',maxWidth:60,textAlign:'center',whiteSpace:'nowrap',overflow:'hidden',textOverflow:'ellipsis'},children:chat.personaName||'유저프로필'})]}),editMode&&user&&/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleLeaveChat(chat);},style:{position:'absolute',right:18,top:'50%',transform:'translateY(-50%)',background:'#ff4081',color:'#fff',border:'none',borderRadius:10,padding:'8px 16px',fontWeight:700,fontSize:15,cursor:'pointer',zIndex:2,boxShadow:'0 2px 8px #ff408133'},children:\"\\uB098\\uAC00\\uAE30\"})]},chat.characterId+'-'+chat.personaId)),showLoginModal&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',left:0,top:0,width:'100vw',height:'100vh',background:'rgba(0,0,0,0.55)',zIndex:9999,display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#222',borderRadius:18,minWidth:260,maxWidth:320,padding:'36px 24px 28px 24px',boxShadow:'0 4px 24px rgba(0,0,0,0.18)',textAlign:'center',display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700,fontSize:20,color:'#fff',marginBottom:18},children:\"\\uB85C\\uADF8\\uC778 \\uD544\\uC694\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#bbb',fontSize:16,marginBottom:24},children:\"\\uB85C\\uADF8\\uC778 \\uB610\\uB294 \\uD68C\\uC6D0\\uAC00\\uC785 \\uD6C4 \\uB300\\uD654\\uB97C \\uC2DC\\uC791\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleGoogleLogin,style:{background:'#fff',color:'#222',border:'none',borderRadius:10,padding:'14px 0',fontWeight:700,fontSize:17,width:'100%',cursor:'pointer',marginBottom:4,display:'flex',alignItems:'center',justifyContent:'center',gap:8},children:[/*#__PURE__*/_jsx(\"img\",{src:\"/google.svg\",alt:\"\\uAD6C\\uAE00\",style:{width:22,height:22,marginRight:6}}),\"\\uAD6C\\uAE00\\uB85C \\uB85C\\uADF8\\uC778\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowLoginModal(false),style:{background:'none',color:'#bbb',border:'none',borderRadius:10,padding:'10px 0',fontWeight:500,fontSize:15,width:'100%',cursor:'pointer',marginTop:8},children:\"\\uB2EB\\uAE30\"})]})})]});}","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useAuth","API_BASE_URL","jsx","_jsx","jsxs","_jsxs","ChatList","navigate","user","chats","setChats","personas","setPersonas","editMode","setEditMode","showLoginModal","setShowLoginModal","userId","uid","fetch","concat","then","res","json","data","ok","validPersonaIds","map","p","_p$id","id","toString","handleLeaveChat","chat","window","confirm","method","headers","body","JSON","stringify","personaId","characterId","prev","filter","c","handleGoogleLogin","location","href","style","maxWidth","margin","background","minHeight","paddingTop","children","display","alignItems","justifyContent","padding","marginTop","fontWeight","fontSize","color","letterSpacing","onClick","e","border","borderRadius","marginLeft","cursor","transition","onMouseOver","currentTarget","onMouseOut","width","height","viewBox","fill","xmlns","d","length","textAlign","_chat$personaId","includes","borderBottom","gap","position","boxShadow","alert","src","profileImg","alt","name","objectFit","onError","onerror","flex","minWidth","whiteSpace","overflow","textOverflow","lastMessage","flexDirection","personaAvatar","personaName","marginBottom","stopPropagation","right","top","transform","zIndex","left","marginRight"],"sources":["/Users/seungsoohan/LovleChat/frontend/src/components/ChatList.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../hooks/useAuth\";\nimport { API_BASE_URL } from '../lib/openai';\n\nexport default function ChatList() {\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [chats, setChats] = useState<any[]>([]);\n  const [personas, setPersonas] = useState<any[]>([]);\n  const [editMode, setEditMode] = useState(false);\n  const [showLoginModal, setShowLoginModal] = useState(false);\n  const userId = user?.uid || \"guest\";\n\n  useEffect(() => {\n    if (!user) {\n      // 게스트: 더미 데이터 5개 랜덤\n      fetch(`${API_BASE_URL}/api/chat/dummy?count=5`)\n        .then(res => res.json())\n        .then(data => {\n          if (data.ok) setChats(data.chats);\n        });\n      setPersonas([]);\n    } else {\n      fetch(`${API_BASE_URL}/api/chat/list?userId=${userId}`)\n      .then(res => res.json())\n      .then(data => {\n        if (data.ok) setChats(data.chats);\n      });\n      fetch(`${API_BASE_URL}/api/persona?userId=${userId}`)\n        .then(res => res.json())\n        .then(data => {\n          if (data.ok) setPersonas(data.personas);\n        });\n    }\n  }, [user]);\n\n  // 현재 존재하는 멀티프로필 id만 추출 (모두 문자열로 변환)\n  const validPersonaIds = personas.map(p => p.id?.toString());\n\n  // 채팅방 나가기(삭제)\n  const handleLeaveChat = async (chat: any) => {\n    if (!window.confirm('정말로 이 채팅방을 나가시겠습니까?')) return;\n    await fetch(`${API_BASE_URL}/api/chat`, {\n      method: 'DELETE',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ userId: chat.personaId, characterId: chat.characterId })\n    });\n    setChats(prev => prev.filter(c => !(c.characterId === chat.characterId && c.personaId === chat.personaId)));\n  };\n\n  // 구글 로그인\n  const handleGoogleLogin = async () => {\n    window.location.href = \"/login\";\n  };\n\n  return (\n    <div style={{ maxWidth: 430, margin: '0 auto', background: 'transparent', minHeight: '100vh', paddingTop: 0 }}>\n      {/* 상단바: 채팅 타이틀 + 연필 버튼 */}\n      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', padding: '16px 20px 12px 20px', marginTop: 0 }}>\n        <span style={{ fontWeight: 700, fontSize: 24, color: '#fff', letterSpacing: 1 }}>채팅</span>\n        <button\n          onClick={() => setEditMode(e => !e)}\n          style={{ background: 'none', border: 'none', borderRadius: 8, padding: 4, marginLeft: 8, cursor: 'pointer', display: 'flex', alignItems: 'center', transition: 'background 0.15s' }}\n          aria-label=\"채팅 편집\"\n          onMouseOver={e => (e.currentTarget.style.background = 'rgba(255,255,255,0.08)')}\n          onMouseOut={e => (e.currentTarget.style.background = 'none')}\n        >\n          <svg width=\"22\" height=\"22\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.13 2.87a2.5 2.5 0 1 1 3.54 3.54l-9.19 9.19a2 2 0 0 1-.71.44l-3.13 1.09a.5.5 0 0 1-.64-.64l1.09-3.13a2 2 0 0 1 .44-.71l9.2-9.19Zm2.12-1.41a3.5 3.5 0 0 0-4.95 0l-9.2 9.19a4 4 0 0 0-.89 1.42l-1.09 3.13A1.5 1.5 0 0 0 2.5 17.5c.16 0 .33-.03.49-.09l3.13-1.09a4 4 0 0 0 1.42-.89l9.19-9.19a3.5 3.5 0 0 0 0-4.95Z\" fill=\"#fff\"/></svg>\n        </button>\n      </div>\n      {chats.length === 0 ? (\n        <div style={{ color: \"#888\", textAlign: \"center\", marginTop: 40 }}>대화 내역이 없습니다.</div>\n      ) : (\n        chats\n          .filter(chat => user ? validPersonaIds.includes(chat.personaId?.toString()) : true)\n          .map((chat) => (\n          <div\n              key={chat.characterId + '-' + chat.personaId}\n            style={{\n              display: 'flex',\n              alignItems: 'center',\n                justifyContent: 'space-between',\n                padding: '16px 12px',\n                borderBottom: '1px solid #222',\n                gap: 16,\n                background: editMode ? '#19171a' : 'transparent',\n                position: 'relative',\n                borderRadius: 14,\n                margin: '0 8px 10px 8px',\n                boxShadow: editMode ? '0 2px 8px #0002' : 'none',\n                transition: 'background 0.2s',\n                cursor: user ? (editMode ? 'default' : 'pointer') : 'pointer'\n              }}\n              onClick={() => {\n                if (editMode) return;\n                if (!user) {\n                  setShowLoginModal(true);\n                  return;\n                }\n                if (!chat.personaId) return alert('이 대화는 멀티프로필 정보가 없어 진입할 수 없습니다.');\n                navigate(`/chat/${chat.characterId}?persona=${chat.personaId.toString()}`);\n            }}\n          >\n            <img\n                src={chat.profileImg || \"/imgdefault.jpg\"}\n              alt={chat.name}\n                style={{ width: 48, height: 48, borderRadius: '50%', objectFit: 'cover' }}\n                onError={e => { e.currentTarget.onerror = null; e.currentTarget.src = \"/imgdefault.jpg\"; }}\n            />\n              <div style={{ flex: 1, minWidth: 0 }}>\n                <div style={{ fontWeight: 'bold', fontSize: '1.1rem', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis', color: '#fff' }}>{chat.name}</div>\n                <div style={{ color: '#aaa', fontSize: '0.95rem', marginTop: 4, whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis', maxWidth: 200 }}>{chat.lastMessage}</div>\n              </div>\n              <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', marginLeft: 24, minWidth: 60 }}>\n                <img\n                  src={chat.personaAvatar || \"/imgdefault.jpg\"}\n                  alt={chat.personaName || \"프로필\"}\n                  style={{ width: 40, height: 40, borderRadius: '50%', objectFit: 'cover', marginBottom: 2 }}\n                  onError={e => { e.currentTarget.onerror = null; e.currentTarget.src = \"/imgdefault.jpg\"; }}\n                />\n                <span style={{ fontSize: 12, color: '#bbb', maxWidth: 60, textAlign: 'center', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>{chat.personaName || '유저프로필'}</span>\n              </div>\n              {editMode && user && (\n                <button\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    handleLeaveChat(chat);\n                  }}\n                  style={{ position: 'absolute', right: 18, top: '50%', transform: 'translateY(-50%)', background: '#ff4081', color: '#fff', border: 'none', borderRadius: 10, padding: '8px 16px', fontWeight: 700, fontSize: 15, cursor: 'pointer', zIndex: 2, boxShadow: '0 2px 8px #ff408133' }}\n                >나가기</button>\n              )}\n            </div>\n          ))\n      )}\n      {/* 게스트용 로그인/회원가입 모달 */}\n      {showLoginModal && (\n        <div style={{\n          position: 'fixed', left: 0, top: 0, width: '100vw', height: '100vh', background: 'rgba(0,0,0,0.55)', zIndex: 9999, display: 'flex', alignItems: 'center', justifyContent: 'center'\n        }}>\n          <div style={{ background: '#222', borderRadius: 18, minWidth: 260, maxWidth: 320, padding: '36px 24px 28px 24px', boxShadow: '0 4px 24px rgba(0,0,0,0.18)', textAlign: 'center', display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n            <div style={{ fontWeight: 700, fontSize: 20, color: '#fff', marginBottom: 18 }}>로그인 필요</div>\n            <div style={{ color: '#bbb', fontSize: 16, marginBottom: 24 }}>로그인 또는 회원가입 후 대화를 시작할 수 있습니다.</div>\n            <button\n              onClick={handleGoogleLogin}\n              style={{ background: '#fff', color: '#222', border: 'none', borderRadius: 10, padding: '14px 0', fontWeight: 700, fontSize: 17, width: '100%', cursor: 'pointer', marginBottom: 4, display: 'flex', alignItems: 'center', justifyContent: 'center', gap: 8 }}\n            >\n              <img src=\"/google.svg\" alt=\"구글\" style={{ width: 22, height: 22, marginRight: 6 }} />\n              구글로 로그인\n            </button>\n            <button\n              onClick={() => setShowLoginModal(false)}\n              style={{ background: 'none', color: '#bbb', border: 'none', borderRadius: 10, padding: '10px 0', fontWeight: 500, fontSize: 15, width: '100%', cursor: 'pointer', marginTop: 8 }}\n            >닫기</button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}