{"ast":null,"code":"var _jsxFileName = \"/Users/seungsoohan/LovleChat/frontend/src/components/ChatList.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ChatList() {\n  _s();\n  const navigate = useNavigate();\n  const [chats, setChats] = useState([]);\n  const userId = \"user_74127\"; // 실제 로그인 연동 시 교체\n\n  useEffect(() => {\n    fetch(`/api/chat/list?userId=${userId}`).then(res => res.json()).then(data => {\n      if (data.ok) setChats(data.chats);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: chats.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: \"#888\",\n        textAlign: \"center\",\n        marginTop: 40\n      },\n      children: \"\\uB300\\uD654 \\uB0B4\\uC5ED\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 9\n    }, this) : chats.map(chat => /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => navigate(`/chat/${chat.characterId}`),\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        padding: '16px 0',\n        borderBottom: '1px solid #eee',\n        cursor: 'pointer'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: chat.profileImg || \"/imgdefault.jpg\",\n        alt: chat.name,\n        style: {\n          width: 48,\n          height: 48,\n          borderRadius: '50%',\n          marginRight: 16,\n          objectFit: 'cover'\n        },\n        onError: e => {\n          e.currentTarget.onerror = null;\n          e.currentTarget.src = \"/imgdefault.jpg\";\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 'bold',\n            fontSize: '1.1rem'\n          },\n          children: chat.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#666',\n            fontSize: '0.95rem',\n            marginTop: 4,\n            whiteSpace: 'nowrap',\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n            maxWidth: 200\n          },\n          children: chat.lastMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this)]\n    }, chat.characterId, true, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 11\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatList, \"Ulvj22MPNj+iCGDYMD2pvBW9ZCA=\", false, function () {\n  return [useNavigate];\n});\n_c = ChatList;\nvar _c;\n$RefreshReg$(_c, \"ChatList\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsxDEV","_jsxDEV","ChatList","_s","navigate","chats","setChats","userId","fetch","then","res","json","data","ok","children","length","style","color","textAlign","marginTop","fileName","_jsxFileName","lineNumber","columnNumber","map","chat","onClick","characterId","display","alignItems","padding","borderBottom","cursor","src","profileImg","alt","name","width","height","borderRadius","marginRight","objectFit","onError","e","currentTarget","onerror","fontWeight","fontSize","whiteSpace","overflow","textOverflow","maxWidth","lastMessage","_c","$RefreshReg$"],"sources":["/Users/seungsoohan/LovleChat/frontend/src/components/ChatList.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function ChatList() {\n  const navigate = useNavigate();\n  const [chats, setChats] = useState<any[]>([]);\n  const userId = \"user_74127\"; // 실제 로그인 연동 시 교체\n\n  useEffect(() => {\n    fetch(`/api/chat/list?userId=${userId}`)\n      .then(res => res.json())\n      .then(data => {\n        if (data.ok) setChats(data.chats);\n      });\n  }, []);\n\n  return (\n    <div>\n      {chats.length === 0 ? (\n        <div style={{ color: \"#888\", textAlign: \"center\", marginTop: 40 }}>대화 내역이 없습니다.</div>\n      ) : (\n        chats.map((chat) => (\n          <div\n            key={chat.characterId}\n            onClick={() => navigate(`/chat/${chat.characterId}`)}\n            style={{\n              display: 'flex',\n              alignItems: 'center',\n              padding: '16px 0',\n              borderBottom: '1px solid #eee',\n              cursor: 'pointer',\n            }}\n          >\n            <img\n              src={chat.profileImg || \"/imgdefault.jpg\"}\n              alt={chat.name}\n              style={{ width: 48, height: 48, borderRadius: '50%', marginRight: 16, objectFit: 'cover' }}\n              onError={e => { e.currentTarget.onerror = null; e.currentTarget.src = \"/imgdefault.jpg\"; }}\n            />\n          <div>\n            <div style={{ fontWeight: 'bold', fontSize: '1.1rem' }}>{chat.name}</div>\n              <div style={{ color: '#666', fontSize: '0.95rem', marginTop: 4, whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis', maxWidth: 200 }}>{chat.lastMessage}</div>\n            </div>\n          </div>\n        ))\n      )}\n    </div>\n  );\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}